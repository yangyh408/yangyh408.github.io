<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[å·¥ç¨‹æµ‹é‡è®¡ç®—è¡¨]]></title>
    <url>%2F2020%2F04%2F20%2F%E5%B7%A5%E7%A8%8B%E6%B5%8B%E9%87%8F%E8%AE%A1%E7%AE%97%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[å·¥æµ‹è®¡ç®—è¡¨ä½¿ç”¨ ä¸´è¿‘å·¥ç¨‹æµ‹é‡åŠæœŸè€ƒè¯•ï¼Œç›¸ä¿¡ä¸€å®šæœ‰å’Œæˆ‘ä¸€æ ·æ²¡æœ‰å¸¦å›žè®¡ç®—å™¨æˆ–è€…è¿˜ä¸ä¼šä½¿ç”¨è®¡ç®—å™¨é«˜çº§è®¡ç®—åŠŸèƒ½çš„å°ä¼™ä¼´ï¼Œé‚£ä¹ˆä¸‹é¢è¿™ä»½excelä¸€å®šä¼šç»™ä½ æä¾›å·¨å¤§å¸®åŠ©ï¼ˆä¸‹è½½é“¾æŽ¥è§æ–‡æœ«ï¼‰ï¼Œå¯¹äºŽè¡¨æ ¼è®¡ç®—ç»“æžœä»…ä¾›å‚è€ƒã€‚ excelæ ¼å¼å£°æ˜Ž æ©™è‰²åŒºåŸŸä¸ºæ ‡é¢˜ï¼Œè¡¨ç¤ºè¡¨æ ¼åŠŸèƒ½ï¼› çº¢è‰²åŒºåŸŸä¸ºæç¤ºï¼Œæ˜¾ç¤ºæ³¨æ„äº‹é¡¹ï¼› ç»¿è‰²æ ‡é¢˜å¯¹åº”çš„åˆ—ä¸ºå¾…è¾“å…¥åˆ—ï¼› è“è‰²æ ‡é¢˜å¯¹åº”çš„åˆ—ä¸ºè‡ªåŠ¨è¾“å‡ºåˆ—ï¼› è¡¨ç¤ºè§’åº¦çš„åº¦ã€åˆ†ã€ç§’æŒ‰é¡ºåºåˆ†ä¸‰åˆ—è¡¨ç¤ºã€‚ excelåŠŸèƒ½ä»‹ç» æ ¹æ®èµ·å§‹ç‚¹åæ ‡è®¡ç®—è·ç¦»åŠæ–¹ä½è§’ï¼› æ ¹æ®æ–¹ä½è§’å’Œè·ç¦»æŽ¨ç®—ä¸‹ä¸€ç‚¹åæ ‡ï¼› åœ†æ›²çº¿å’Œç¼“å’Œæ›²çº¿æµ‹è®¾ã€‚ é™„ä»¶ðŸ“Žï¼šâž¡ï¸å·¥æµ‹è®¡ç®—è¡¨ä¸‹è½½]]></content>
      <tags>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¥žç»ç½‘ç»œ(Nueral Network)]]></title>
    <url>%2F2020%2F04%2F11%2F%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C-Nueral-Network%2F</url>
    <content type="text"><![CDATA[ç¥žç»ç½‘ç»œåˆæ­¥ ç¥žç»ç½‘ç»œï¼ˆNeural Networkï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¼—å¤šç®—æ³•ä¸­çš„ä¸€ç§ï¼Œå…¶åŽŸç†æ˜¯æ¨¡ä»¿äººè„‘å†…ç¥žç»å…ƒä¹‹é—´ä¿¡æ¯çš„å¤„ç†æ–¹å¼ï¼Œå¸Œæœ›å€Ÿæ­¤å®Œæˆå›žå½’æ¨¡åž‹å’Œåˆ†ç±»æ¨¡åž‹æ‰€éš¾ä»¥å®žçŽ°çš„éžçº¿æ€§é¢„æµ‹ã€‚ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥å°†ç¥žç»ç½‘ç»œçœ‹ä½œä¸€ä¸ªå¤æ‚çš„å¤šå±‚å¤åˆå‡½æ•°ï¼Œè¾“å…¥æ•°æ®é€šè¿‡å¤šå±‚å‡½æ•°çš„åµŒå¥—è®¡ç®—ä»Žè€Œæ±‚å¾—é¢„æµ‹ç»“æžœã€‚æ¢ä¸ªè§’åº¦ä¹Ÿå¯ä»¥æŠŠå¤šå±‚ç¥žç»ç½‘ç»œç†è§£ä¸ºå°†è¾“å…¥æ•°æ®åšå¤šå±‚ç‰¹å¾å˜æ¢çš„è¿‡ç¨‹ã€‚ ç¥žç»ç½‘ç»œé€šå¸¸ç”±ä¸‰éƒ¨åˆ†ç»„æˆ:è¾“å…¥å±‚ã€éšè—å±‚ã€è¾“å‡ºå±‚ã€‚å…¶ä¸­éšè—å±‚å¯ä»¥æœ‰å¤šå±‚ï¼Œå„å±‚é—´çš„å•å…ƒé€šè¿‡å‚æ•°$\theta$å’Œæ¿€æ´»å‡½æ•°$\sigma$ç›¸è¿žæŽ¥ï¼Œç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š $a_i^{(l)}$è¡¨ç¤ºç¬¬lå±‚çš„iå·å…ƒç´  $\theta_{ij}^{(l)}$è¡¨ç¤ºè¿žæŽ¥ç¬¬l+1å±‚iå·å…ƒç´ å’Œç¬¬lå±‚jå·å…ƒç´ é—´çš„å‚æ•° å„å±‚ä¹‹é—´çš„è¿žæŽ¥å…³ç³»å¯è¡¨ç¤ºä¸ºï¼š z^{(l+1)}=\theta^{(l)}*a^{(l)}a^{(l+1)} = \sigma(z^{(l+1)})ç¥žç»ç½‘ç»œçš„å®žçŽ° ä¸Šä¸€èŠ‚æˆ‘ä»¬æž„å»ºäº†ä¸€ä¸ªç®€å•çš„å…¨è¿žæŽ¥ç¥žç»å…ƒç½‘ç»œï¼Œå¹¶ä¸”äº†è§£äº†å„å±‚ä¹‹é—´æ˜¯é€šè¿‡æ€Žæ ·çš„è¿žæŽ¥æ–¹å¼ç›¸äº’å…³è”èµ·æ¥çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥è®­ç»ƒè¿™ä¸ªç¥žç»å…ƒç½‘ç»œå‘¢ï¼Ÿä¸Žçº¿æ€§å›žå½’æ¨¡åž‹å’Œåˆ†ç±»æ¨¡åž‹ç±»ä¼¼ï¼Œæˆ‘ä»¬å…ˆä»ŽæŸå¤±å‡½æ•°å…¥æ‰‹ã€‚ $L$è¡¨ç¤ºç¥žç»ç½‘ç»œæ€»å±‚æ•° $S_l$è¡¨ç¤ºç¬¬lå±‚å…ƒç´ ä¸ªæ•°(ä¸åŒ…æ‹¬åå·®å…ƒç´ $a_0^{(l)}$) $\delta_i^{(l)}$è¡¨ç¤ºç¬¬lå±‚iå·å…ƒç´ ä¸ŽçœŸå®žå€¼å†æ­¤èŠ‚ç‚¹çš„å·®å€¼ $x^{(i)},\hat{y^{(i)}}$è¡¨ç¤ºä¸€ç»„è®­ç»ƒè¾“å…¥å’Œè¾“å‡º æŸå¤±å‡½æ•° (Cost Function) ç¥žç»ç½‘ç»œä¸­ç»å¸¸ä½¿ç”¨çš„æŸå¤±å‡½æ•°ä»ç„¶ä¸ºäº¤å‰ç†µå‡½æ•°(CrossEntropy)ï¼Œå®ƒå¯ä»¥è§†ä¸ºèŒƒåŒ–çš„é€»è¾‘å›žå½’æŸå¤±å‡½æ•°ï¼Œè¡¨ç¤ºä¸ºï¼š J(\theta)=-\frac{1}{m}\sum_{i=1}^{m}\sum_{k=1}^{S_L}y_k^{(i)}log(h_\theta(x^{(i)}))_k+(1-y_k^{(i)})log(1-h_\theta(x^{(i)}))_kå¦‚æžœä½¿ç”¨æ­£åˆ™åŒ–å¤„ç†ï¼Œåˆ™è¿˜éœ€å¢žåŠ æ­£åˆ™åŒ–é¡¹ï¼š \frac{\lambda}{2m}\sum_{l=1}^{L-1}\sum_{j=1}^{S_l}\sum_{i=1}^{S_{l+1}}(\theta_{ij}^{(l)})^2æ³¨æ„å’Œä¹‹å‰æ­£åˆ™åŒ–æ“ä½œå¼ºè°ƒçš„ç›¸åŒï¼šåœ¨æ­£åˆ™åŒ–é¡¹ä¸­ä¸åŒ…æ‹¬$\theta_{i0}^{(l)}$è¿™äº›è¿žæŽ¥åå·®é¡¹çš„å‚æ•°ã€‚ åå‘ä¼ æ’­ (Backpropagation) åå‘ä¼ æ’­æ˜¯ä¸€ç§ç”¨äºŽç¥žç»ç½‘ç»œå¿«æ·æ±‚è§£å‚æ•°æ¢¯åº¦çš„æ–¹æ³•ã€‚ç”±äºŽè¿žæŽ¥äº†å¾ˆå¤šå±‚å‚æ•°ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æ¢¯åº¦æ—¶éœ€è¦å¤šæ¬¡é‡‡ç”¨é“¾å¼æ³•åˆ™ï¼Œè¿™é‡Œç”¨ç¥žç»ç½‘ç»œä¸­çš„æŸä¸€éƒ¨åˆ†æ¥ä¸¾ä¾‹å¦‚ä½•è®¡ç®—æ¢¯åº¦ï¼š \frac{\partial J}{\partial \theta_1}= \frac{\partial J}{\partial z} \frac{\partial z}{\partial \theta_1}=\frac{\partial J}{\partial z}*a_1\frac{\partial J}{\partial z}=\frac{\partial J}{\partial a}\frac{\partial a}{\partial z}=(\frac{\partial J}{\partial z'}\frac{\partial z'}{\partial a}+\frac{\partial J}{\partial z''}\frac{\partial z''}{\partial a})\sigma'(z)=\sigma'(z)(\theta_3\frac{\partial J}{\partial z'}+\theta_4\frac{\partial J}{\partial z''})ä¸éš¾çœ‹å‡ºï¼Œåªè¦æˆ‘ä»¬æ±‚å‡º$\frac{\partial J}{\partial zâ€™}$å’Œ$\frac{\partial J}{\partial zâ€™â€™}$å°±èƒ½ç®—å‡ºæŸå¤±å‡½æ•°å¯¹$\theta_1$çš„æ¢¯åº¦ã€‚é™¤äº†é¡ºåºä½¿ç”¨é€’å½’æ±‚è§£å¤–ï¼Œå¦‚æžœæˆ‘ä»¬ä»Žè¾“å‡ºå±‚å¼€å§‹åå‘é€å±‚è®¡ç®—æ¢¯åº¦ï¼Œåˆ™å¯ç›´æŽ¥æ±‚è§£ï¼Œè¿™ä¾¿æ˜¯åå‘ä¼ æ’­ã€‚ æ¢¯åº¦è®¡ç®—ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºåå‘ä¼ æ’­æ±‚è§£æ¢¯åº¦çš„æ­¥éª¤ä¸ºï¼š è®¾ç½®è¾“å…¥å±‚ï¼ša^{(1)}=x^{(i)},i=1,2,\dots,m å‰å‘ä¼ æ’­é€å±‚è®¡ç®—å…ƒç´ å€¼ï¼ša^{(l+1)}=\sigma(\theta^{(l)}*a^{(l)}) è®¡ç®—è¾“å‡ºå±‚å·®å€¼ï¼š\delta^{(L)}=a^{(L)}-\hat{y^{(i)}} åå‘ä¼ æ’­è®¡ç®—$\delta^{(L-1)},\delta^{(L-2)},\dots,\delta^{(2)}$:\delta^{(l)}=((\theta^{(l)})^T\delta^{(l+1)})*\sigma'(z^{(l)}) è®¡ç®—æ¢¯åº¦(è®¡ç®—æ—¶è¦åŽ»é™¤l+1å±‚çš„åå·®å·®å€¼$\delta_0^{(l+1)}$)ï¼š\Delta^{(l)}=\Delta^{(l)} + \delta^{(l+1)}(a^{(l)})^T\frac{\partial}{\partial \theta_{ij}^{(l)}}J(\theta)=\begin{cases} \frac{1}{m}\Delta_{ij}^{(l)}, & j=0 \\ \frac{1}{m}\Delta_{ij}^{(l)}+\frac{\lambda}{m}\theta_{ij}^{(l)}, &j\not= 0 \end{cases} éªŒè¯æ¢¯åº¦æˆ‘ä»¬åœ¨ä½¿ç”¨åå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦åŽï¼Œå¦‚æžœè¦æ£€éªŒæ¢¯åº¦è®¡ç®—æ˜¯å¦æ­£ç¡®ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹çš„æ•°å€¼è®¡ç®—æ–¹æ³•ï¼ˆå³æ ¹æ®æ¢¯åº¦çš„å®šä¹‰ï¼‰ï¼š \frac{\partial}{\partial \theta}J(\theta) \approx \frac{J(\theta+\epsilon)-J(\theta-\epsilon)}{2\epsilon},\ \epsilon=10^{-4} å‚æ•°åˆå§‹åŒ–åœ¨å›žå½’é—®é¢˜å’Œåˆ†ç±»é—®é¢˜çš„æ¢¯åº¦è®¡ç®—ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å°†å‚æ•°åˆå§‹åŒ–ä¸º0ï¼Œä½†æˆ‘ä»¬å´ä¸èƒ½åœ¨ç¥žç»ç½‘ç»œä¸­æ²¿ç”¨ä»Žåšæ³•ã€‚åŽŸå› å¾ˆç®€å•ï¼Œå¦‚æžœæˆ‘ä»¬åˆå§‹åŒ–å‚æ•°ä¸ºç›¸åŒçš„å€¼ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œåå‘ä¼ æ’­åŽæ¯å±‚å‚æ•°çš„æ›´æ–°ä¹Ÿéƒ½æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·ç¥žç»ç½‘ç»œå°±è¢«é™ç»´æˆäº†ä¸€ç³»åˆ—èŠ‚ç‚¹ä½¿ç¥žç»ç½‘ç»œå¤±æ•ˆï¼Œä¸ºäº†æ‰“ç ´è¿™ç§å‚æ•°æ›´æ–°çš„å¯¹ç§°æ€§ï¼Œæˆ‘ä»¬è¦éšæœºåˆå§‹åŒ–å‚æ•°çŸ©é˜µï¼Œå³ï¼š random(-\epsilon \leq \theta \leq \epsilon)ï¼Œ\ \epsilon = 0.12å…¶ä¸­éšæœºèŒƒå›´$\epsilon$ä¹Ÿå¯ä»¥æ ¹æ®å‚æ•°è¿žæŽ¥çš„ä¸¤å±‚å…ƒç´ ä¸ªæ•°é€‰å–ï¼Œå…¬å¼ä¸ºï¼š \theta^{(l)}\leftarrow\epsilon=\frac{\sqrt{6}}{\sqrt{S_l+S_{l+1}}}æ¿€æ´»å‡½æ•° (Activation Funtion) å¦‚æžœæ²¡æœ‰æ¿€æ´»å‡½æ•°åœ¨å„éšè—å±‚ä¹‹é—´è¿›è¡Œå‚æ•°ä¼ é€’æ—¶ï¼Œæ— è®ºä½ æœ‰å¤šå°‘å±‚ï¼Œå…¶è¾“å‡ºéƒ½æ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆï¼Œè€Œè¿™æ ·å°±å¤±åŽ»äº†ä½¿ç”¨ç¥žç»ç½‘ç»œçš„æ„ä¹‰ã€‚äºŽæ˜¯éœ€è¦æˆ‘ä»¬åœ¨ç¥žç»ç½‘ç»œä¸­éœ€è¦å¼•å…¥ä¸€äº›éžçº¿æ€§å‡½æ•°ä½œä¸ºæ¿€åŠ±å‡½æ•°ä»Žè€Œå¯ä»¥ä½¿ç¥žç»ç½‘ç»œçš„æ•ˆæžœé€¼è¿‘ä»»ä½•å¯èƒ½çš„å‡½æ•°ã€‚ æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ (Gradient Vanishing)åœ¨ç¥žç»ç½‘ç»œä¸­å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°æœ‰å¾ˆå¤šï¼Œå½“ç„¶sigmoidå‡½æ•°ä¹Ÿæ˜¯å…¶ä¸­ä¸€ä½ï¼Œä½†åœ¨æ·±å±‚çš„ç¥žç»ç½‘ç»œä¸­ä½¿ç”¨sigmoidå‡½æ•°ä¼šä½¿ç¥žç»ç½‘ç»œçš„è®­ç»ƒæ•ˆæžœå¤§æ‰“æŠ˜æ‰£ï¼ŒåŽŸå› åœ¨äºŽåå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œsigmoidå‡½æ•°çš„å¯¼æ•°æœ€å¤§ä¸º0.25ï¼Œè¿™æ ·åµŒå¥—å¤šå±‚åˆ°è¾¾æœ€åŽä¸€å±‚ï¼ˆä¹Ÿå³è¾“å…¥å±‚ï¼‰æ—¶çš„æ¢¯åº¦ä¼šå¾ˆè¶‹è¿‘äºŽ0ï¼Œè¿™æ ·åœ¨ç¬¬ä¸€å±‚çš„å‚æ•°å­¦ä¹ é€ŸçŽ‡ä¼šå°¤å…¶ç¼“æ…¢ï¼Œä½†åœ¨æœ€åŽå‡ å±‚çš„å‚æ•°å´ä¼šä»¥å¤§æ­¥é•¿æ›´æ–°å¹¶å¾ˆå¿«æ”¶æ•›ã€‚å¦‚ä½•å¤„ç†è¿™æ ·ç•¸å½¢çš„æ¢¯åº¦æ›´æ–°é—®é¢˜å‘¢ï¼Ÿæ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯æ”¾å¼ƒsigmoidå‡½æ•°ï¼Œæ¢ç”¨å…¶ä»–æ¿€æ´»å‡½æ•°ã€‚ ReLU (Rectified Linear Unit)ReLUæ˜¯å½“ä»Šåœ¨æ­å»ºäººå·¥ç¥žç»ç½‘ç»œæ—¶æœ€å¸¸ä½¿ç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œå…¶è¡¨è¾¾å¼ä¸ºï¼š \sigma(z)=max(0,z) åŒæ—¶è¿˜æœ‰ReLUå‡½æ•°çš„å˜ç§Leaky ReLUå’ŒPReLUï¼ˆå¦‚ä¸Šå›¾ï¼‰ï¼Œä»–ä»¬çš„å‡ºçŽ°éƒ½æ˜¯ä¸ºäº†è§£å†³åœ¨DeadRelué—®é¢˜ï¼Œä½†æ²¡æœ‰ç ”ç©¶è¯æ˜Žè¿™ä¸¤ä¸ªå˜ç§çš„ä½¿ç”¨æ•ˆæžœä¼˜äºŽReLUæ¿€æ´»å‡½æ•°ã€‚ ä¸Žä¼ ç»Ÿçš„sigmoidæ¿€æ´»å‡½æ•°ç›¸æ¯”ï¼Œå…¶ä¼˜åŠ¿ä¸»è¦ä½“çŽ°åœ¨ï¼š ç®€åŒ–è®¡ç®—è¿‡ç¨‹ï¼Œé™ä½Žè®¡ç®—æˆæœ¬ï¼› é¿å…äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ æ”¶æ•›é€Ÿåº¦æ›´å¿« ä½†ä¹Ÿè¦æ³¨æ„åœ¨ä½¿ç”¨ReLUåšæ¿€æ´»å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½å°†æ¢¯åº¦ä¸‹é™ä¸­çš„å­¦ä¹ é€ŸçŽ‡$\eta$è®¾ç½®çš„å¤ªé«˜ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´DeadReLUé—®é¢˜ï¼Œå³æœ‰ä¸€äº›ç¥žç»å…ƒå¯èƒ½æ°¸è¿œæ— æ³•è¢«æ¿€æ´»ï¼Œå¯¼è‡´å…¶å¯¹åº”å‚æ•°æ°¸è¿œæ— æ³•æ›´æ–°ã€‚ Maxoutmaxoutæ¿€æ´»å‡½æ•°æ˜¯ä¸€ç§å¯å­¦ä¹ çš„æ¿€æ´»å‡½æ•°ï¼Œå¯ä»¥è§†ä¸ºReLUå‡½æ•°çš„èŒƒåŒ–ã€‚å…¶è¡¨è¾¾å¼ä¸ºï¼š \sigma(z)=max(z_1,z_2,\dots,z_k)å…¶ä¸­kæ˜¯éœ€è¦æ‰‹åŠ¨è®¾ç½®çš„å‚æ•°ï¼Œè¡¨ç¤ºæ¯æ¬¡å–æœ€å¤§å€¼çš„èŠ‚ç‚¹èŠ‚ç‚¹ç»„ä¸ªæ•°ï¼Œä¸‹å›¾è¡¨ç¤ºäº†ä½¿ç”¨maxoutæ¿€æ´»å‡½æ•°ï¼ˆk=2ï¼‰çš„ç¥žç»ç½‘ç»œï¼š å®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºŽå…¶æ‹Ÿå’Œèƒ½åŠ›ï¼Œç†è®ºä¸Šåªè¦éšè—å±‚ç¥žç»å…ƒè¶³å¤Ÿå¤šï¼Œmaxoutå‡½æ•°å°±å¯ä»¥æ¨¡æ‹Ÿä»»ä½•å‡¸å‡½æ•°ã€‚ä¸è¿‡å…¶å…·ä½“ä½¿ç”¨ä¸­çš„æ•ˆæžœè¿˜å¾…æ—¥åŽå®žè·µåŽè¡¥å……ã€‚ è¯„ä»·å‡½æ•° (Evaluation Function) åœ¨ç¥žç»ç½‘ç»œè®­ç»ƒå®ŒæˆåŽï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€äº›å‡½æ•°æ¥å¯¹æ¨¡åž‹çš„è®­ç»ƒæ•ˆæžœåšå‡ºè¯„ä»·ã€‚ äº¤å‰éªŒè¯ (Cross Validation)åœ¨ç¥žç»ç½‘ç»œä¸­ä½¿ç”¨çš„äº¤å‰éªŒè¯æ–¹æ³•ä¸Žå›žå½’é—®é¢˜ä¸­æ‰€ä½¿ç”¨çš„æ–¹æ³•æ­¥éª¤åŸºæœ¬ç›¸åŒï¼Œå³å°†æ‰€æœ‰è®­ç»ƒæ•°æ®éšæœºåˆ†æˆä¸‰ç»„(æ¯”ä¾‹å¯ä»¥ç›¸åº”è°ƒæ•´)ï¼š ç¬¬ä¸€ç»„ä¸ºè®­ç»ƒé›†(60%)ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯è®­ç»ƒå‚æ•°ï¼ŒæŸå¤±å‡½æ•°ä¸º$J_{train}(\theta)$ ç¬¬äºŒç»„ä¸ºäº¤å‰éªŒè¯é›†(20%)ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯è°ƒæ•´æ¨¡åž‹ä¸­çš„ä¸€äº›è¶…å‚æ•°ï¼ˆå¦‚æ­£åˆ™åŒ–å‚æ•°$\lambda$ç­‰ï¼‰ä»¥é€‰æ‹©åˆé€‚çš„æ¨¡åž‹æˆ–è¯Šæ–­æ¨¡åž‹å­˜åœ¨çš„é—®é¢˜ï¼ŒæŸå¤±å‡½æ•°ä¸º$J_{CV}(\theta)$ ç¬¬ä¸‰ç»„ä¸ºæµ‹è¯•é›†(20%)ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯æµ‹è¯•å¹¶éªŒè¯æ¨¡åž‹è®­ç»ƒæ•ˆæžœï¼ŒæŸå¤±å‡½æ•°ä¸º$J_{test}(\theta)$ åˆ†ç±»é—®é¢˜è¯„ä»·å‡½æ•° (Score Function)åœ¨åˆ†ç±»é—®é¢˜ä¸­çš„é¢„æµ‹ç»“æžœé€šå¸¸æœ‰å››ç§çŠ¶æ€ï¼š TP(çœŸé˜³æ€§):æ­£æ ·æœ¬è¢«æ­£ç¡®é¢„æµ‹ä¸ºæ­£æ ·æœ¬ FP(å‡é˜³æ€§):è´Ÿæ ·æœ¬è¢«é”™è¯¯é¢„æµ‹ä¸ºæ­£æ ·æœ¬ TN(çœŸé˜´æ€§):è´Ÿæ ·æœ¬è¢«æ­£ç¡®é¢„æµ‹ä¸ºè´Ÿæ ·æœ¬ FN(å‡é˜´æ€§):æ­£æ ·æœ¬è¢«é”™è¯¯é¢„æµ‹ä¸ºè´Ÿæ ·æœ¬ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢„æµ‹ç²¾ç¡®åº¦æ¥è¯„ä»·æ¨¡åž‹çš„é¢„æµ‹æ•ˆæžœï¼Œå³ï¼š Accacy = \frac{TP+TN}{TP+FP+TN+FN}ä½†åœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬çš„è´Ÿæ ·æœ¬é€šå¸¸è¿œè¿œå¤§äºŽæ­£æ ·æœ¬æ•°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æœ‰ä¸€ç»„æ˜¯å¦æ‚£æœ‰ç™Œç—‡çš„æ•°æ®ï¼Œå…¶ä¸­99.5%å¯èƒ½éƒ½æ˜¯ä¸ºæ‚£ç™Œç—‡çš„æ ·æœ¬ã€‚å¦‚æžœæˆ‘ä»¬æž„å»ºä¸€ä¸ªå‡½æ•°æ— è®ºè¾“å…¥æ‰€æœ‰è¾“å‡ºéƒ½ä¸º0ï¼Œå³ä¸æ‚£ç™Œç—‡ï¼Œè¿™æ ·çš„é¢„æµ‹å‡†ç¡®çŽ‡ä¸º99.5%ï¼Œå¾ˆæ˜¾ç„¶ç”¨ç²¾ç¡®åº¦æ¥è¯„ä»·æ¨¡åž‹å¥½åå·²ç»æ²¡æœ‰æ„ä¹‰ã€‚çŽ°å®žç”Ÿæ´»ä¸­è¿™æ ·çš„æ•°æ®åæ–œé—®é¢˜(skewed data)æ˜¯å¾ˆå¸¸è§çš„ï¼ŒäºŽæ˜¯å‡ºçŽ°äº†ä¸€ç§æ–°çš„è¯„ä»·æ¨¡åž‹çš„æ–¹æ³•: Precision = \frac{TP}{TP+FP}Recall=\frac{TP}{TP+FN}F\_Score = (1+\beta^2)*\frac{Precision*Recall}{\beta^2*Precision+Recall} åœ¨ä½¿ç”¨æ—¶è¦å°†æ•°é‡è¾ƒå°‘çš„æ ·æœ¬è®¾ç½®ä¸ºæ­£æ ·æœ¬ï¼ˆy=1ï¼‰ Precisionä¸ºæ¨¡åž‹å¯»æ‰¾æ­£æ ·æœ¬çš„å‡†ç¡®åº¦ Recallä¸ºæ¨¡åž‹å¯»æ‰¾æ­£æ ·æœ¬çš„å…¨é¢æ€§ $\beta$ç”¨ä»¥å¹³è¡¡Precisionå’ŒRecallçš„æƒé‡ $\beta &lt; 1$ Precisionæƒé‡æ›´é«˜ $\beta = 1$ ä¸¤è€…æƒé‡ç›¸åŒ $\beta &gt; 1$ Recallæƒé‡æ›´é«˜ å¯ä»¥é€šè¿‡è°ƒèŠ‚$h_{\theta}(x)$æ˜ å°„åˆ°y=1çš„é˜ˆå€¼æ¥æ”¹å˜F_Score æ€»ç»“ï¼šè®­ç»ƒæ­¥éª¤ æ ¹æ®ä¸Šè¿°åˆ†æžï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºç¥žç»ç½‘ç»œçš„è®­ç»ƒæ­¥éª¤ï¼š å¯»æ‰¾åˆé€‚çš„ç½‘ç»œæž¶æž„ï¼ˆåŒ…æ‹¬éšè—å±‚æ•°ã€éšè—å±‚èŠ‚ç‚¹æ•°ã€å±‚é—´è¿žæŽ¥æ–¹å¼ã€æŸå¤±å‡½æ•°ã€æ¿€æ´»å‡½æ•°ã€æ¢¯åº¦ä¼˜åŒ–å™¨ç­‰ï¼‰ï¼› éšæœºåˆå§‹åŒ–å‚æ•°çŸ©é˜µï¼› å‰å‘ä¼ æ’­è®¡ç®—æ¯å±‚èŠ‚ç‚¹çš„å€¼ï¼› è®¡ç®—æŸå¤±å‡½æ•°$J(\theta)$ï¼› åå‘ä¼ æ’­è®¡ç®—æ¯å±‚å‚æ•°æ¢¯åº¦$\frac{\partial}{\partial \theta_{ij}^{(l)}}J(\theta)$ï¼› ç”¨æ•°å€¼è®¡ç®—æ–¹æ³•æ£€éªŒæ¢¯åº¦è®¡ç®—æ˜¯å¦æ­£ç¡®ï¼› ä½¿ç”¨æ¢¯åº¦ä¸‹é™æˆ–å…¶ä»–ä¼˜åŒ–ç®—æ³•æœ€å°åŒ–$J(\theta)$ï¼› ä½¿ç”¨è¯„ä»·å‡½æ•°æ£€éªŒæ¨¡åž‹è®­ç»ƒæ•ˆæžœã€‚ è°ƒè¯•ç¥žç»ç½‘ç»œ è¯Šæ–­è¯¯å·®æ¥æºç¥žç»ç½‘ç»œä¸­çš„è¯¯å·®æ¥æºé€šå¸¸æ¥è‡ªä¸¤ä¸ªæ–¹é¢ï¼šåæ–œï¼ˆbiasï¼‰å’Œæ–¹å·®ï¼ˆvarienceï¼‰ï¼Œåæ–œè¯¯å·®é€šå¸¸å¯¼è‡´æ¬ æ‹Ÿåˆ(underfit)ã€è€Œæ–¹å·®è¯¯å·®åˆ™å¯¼è‡´è¿‡æ‹Ÿåˆ(overfit)ã€‚è¿™ä¸¤ç§è¯¯å·®åœ¨ç¥žç»ç½‘ç»œä¸­çš„è¡¨çŽ°æœ‰æ‰€ä¸åŒï¼š error from bias (underfitting)J_{train}(\theta) \gg 0J_{train}(\theta) \approx J_{CV} (\theta) error from varience (overfitting)J_{train}(\theta) \approx 0J_{train}(\theta) \gg J_{CV}(\theta) æ‹¿æ­£åˆ™åŒ–å‚æ•°å˜åŒ–å¯¹è®­ç»ƒé›†å’Œäº¤å‰éªŒè¯é›†æŸå¤±å‡½æ•°çš„å½±å“ä¸ºä¾‹ï¼š å½“$\lambda$å¾ˆå°æ—¶ï¼Œè®­ç»ƒé›†æŸå¤±å‡½æ•°è¿œå¤§äºŽéªŒè¯é›†æŸå¤±å‡½æ•°å±žäºŽè¿‡æ‹Ÿåˆé—®é¢˜; å½“$\lambda$å¾ˆå¤§æ—¶ï¼Œè®­ç»ƒé›†æŸå¤±å‡½æ•°çº¦ç­‰äºŽéªŒè¯é›†æŸå¤±å‡½æ•°ä¸”éƒ½è¿œå¤§äºŽ0ï¼Œæ•…å±žäºŽæ¬ æ‹Ÿåˆé—®é¢˜ã€‚ ç»˜åˆ¶å­¦ä¹ æ›²çº¿ä¸ºäº†æ›´æ˜“äºŽåŒºåˆ†æ˜¯ä¸¤ç§è¯¯å·®ä¸­çš„å“ªä¸€ç§å¯¹æˆ‘ä»¬çš„è®­ç»ƒæ¨¡åž‹äº§ç”Ÿå½±å“ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç»˜åˆ¶å­¦ä¹ æ›²çº¿çš„æ–¹æ³•ï¼š ä»¥è®­ç»ƒæ ·æœ¬æ•°é‡ä¸ºæ¨ªè½´ï¼ŒæŸå¤±å€¼ä¸ºçºµè½´å»ºç«‹åæ ‡ç³»ï¼› è®¡ç®—æŸå¤±å€¼æ—¶æ‰€ä½¿ç”¨çš„æŸå¤±å‡½æ•°ä¸åŒ…æ‹¬æ­£åˆ™åŒ–é¡¹ï¼› m=iæ—¶ï¼Œè®­ç»ƒä½¿ç”¨çš„iä¸ªæ ·æœ¬çš„è¦éšæœºé€‰å–ï¼› åœ¨è®¡ç®—åŒ…å«iä¸ªè®­ç»ƒæ ·æœ¬çš„æŸå¤±å€¼æ—¶ï¼Œå¯ä»¥é€šè¿‡æµ‹è¯•å¤šæ¬¡å–å¹³å‡å€¼çš„æ–¹å¼å¾—åˆ°è¾ƒä¸ºå¯é çš„æŸå¤±å€¼ã€‚ å½“ç¥žç»ç½‘ç»œå‡ºçŽ°æ¬ æ‹Ÿåˆæˆ–è¿‡æ‹Ÿåˆé—®é¢˜æ—¶ï¼Œå­¦ä¹ æ›²çº¿ä¹Ÿä¼šæœ‰ä¸¤ç§å®Œå…¨ä¸åŒçš„è¡¨çŽ°ï¼š æ¬ æ‹Ÿåˆï¼šéšç€må¢žå¤§ï¼Œè®­ç»ƒé›†å’ŒéªŒè¯é›†æŸå¤±å‡½æ•°ååˆ†æŽ¥è¿‘ä¸”è¿œé«˜äºŽæœŸæœ›æŸå¤±å€¼ï¼› è¿‡æ‹Ÿåˆï¼šéšç€må¢žå¤§ï¼Œè®­ç»ƒé›†å’ŒéªŒè¯é›†æŸå¤±å‡½æ•°ä»¥æžæ…¢çš„é€Ÿåº¦ç›¸äº’é è¿‘ï¼Œå½“mè¾¾åˆ°æœ€å¤§æ—¶ä»æœ‰è¾ƒå¤§å·®è·ã€‚ æ”¹è¿›æ¨¡åž‹ é’ˆå¯¹æ¬ æ‹Ÿåˆé—®é¢˜ å¼•å…¥æ›´å¤šçš„ç‰¹å¾ æ”¹è¿›æ¨¡åž‹ï¼ˆéšè—å±‚æ•°ã€éšè—èŠ‚ç‚¹æ•°ã€æ¿€æ´»å‡½æ•°ã€æŸå¤±å‡½æ•°ï¼‰ å‡å°æ­£åˆ™åŒ–å‚æ•°$\lambda$ é’ˆå¯¹è¿‡æ‹Ÿåˆé—®é¢˜ èŽ·å–æ›´å¤šçš„è®­ç»ƒæ•°æ® ç­›å‡ç‰¹å¾é‡ å¢žå¤§æ­£åˆ™åŒ–å‚æ•°$\lambda$ Dropoutï¼ˆè§åŽæ–‡ï¼‰ DropoutDropoutæ˜¯ä¸€ç§åº”ç”¨äºŽå¤æ‚å‰é¦ˆæ¨¡åž‹ä¸­é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ‰‹æ®µï¼Œå®ƒæ˜¯é€šè¿‡åœ¨æ¯ä¸ªè®­ç»ƒæ‰¹æ¬¡ä¸­éšæœºåˆ é™¤p%çš„èŠ‚ç‚¹ä»¥é˜»æ­¢ç‰¹å¾æ£€æµ‹å™¨çš„å…±åŒä½œç”¨ï¼ˆç›¸äº’å…³è”çš„ä¾èµ–å…³ç³»ï¼‰æ¥æå‡ç¥žç»ç½‘ç»œçš„æ€§èƒ½ï¼Œä»¥æ­¤å¾—åˆ°èŒƒåŒ–æ€§æ›´å¼ºï¼Œä¸å¤ªä¾èµ–æŸäº›å±€éƒ¨ç‰¹å¾çš„è®­ç»ƒç»“æžœã€‚ Dropoutçš„å®žçŽ°æ­¥éª¤å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š éšæœºç”Ÿæˆdropoutå‘é‡$r_j^{(l)} \sim Bernoulli(p)$æŽ§åˆ¶æ¯å±‚è¢«åˆ é™¤çš„èŠ‚ç‚¹ $\widetilde{a}^{(l)}=a^{(l)}*r^{(l)}$ $a^{(l+1)}=\sigma(\theta^{(l)}*\widetilde{a}^{(l)})$ åœ¨ä½¿ç”¨æ¨¡åž‹æµ‹è¯•æ—¶ï¼Œåˆ™ä¸éœ€è¦å†è¿›è¡Œdropoutï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å¯¹äºŽæ¯ä¸ªå‚æ•°éƒ½è¦ä¹˜ä¸Š(1-p)ä»¥ä¿è¯å…¶åŽç»§èŠ‚ç‚¹çš„æ•°å­¦æœŸæœ›å€¼ä¸å˜ï¼Œå³ï¼š$\theta_{test}^{(l)}=(1-p)\theta^{(l)}$ å‘é‡$r^{(l)}$ä¸­p%çš„å…ƒç´ ä¸º0ï¼Œå¯¹åº”äºŽè¯¥å±‚è¢«å¿½ç•¥çš„å…ƒç´  å‚è€ƒèµ„æ–™AndrewNGæœºå™¨å­¦ä¹ æŽå®æ¯…æœºå™¨å­¦ä¹ åˆ†ç±»è¯„åˆ¤æ ‡å‡†F-scoreå¸¸ç”¨æ¿€æ´»å‡½æ•°ç†è§£ä¸Žæ€»ç»“Maxoutç½‘ç»œå­¦ä¹ æ·±åº¦å­¦ä¹ ä¸­dropoutåŽŸç†]]></content>
      <tags>
        <tag>Python</tag>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ -åˆ†ç±»é—®é¢˜ï¼ˆClassificationï¼‰]]></title>
    <url>%2F2020%2F03%2F30%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98%EF%BC%88Classification%EF%BC%89%2F</url>
    <content type="text"><![CDATA[åˆ†ç±»é—®é¢˜æ¦‚è¿° åˆ†ç±»é—®é¢˜æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æœ€å¸¸é‡åˆ°çš„ä¸€ç±»é—®é¢˜ï¼Œæ¯”å¦‚åžƒåœ¾é‚®ä»¶çš„åˆ†ç±»ï¼Œè¯†åˆ«æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ˜¯æ±½è½¦è¿˜æ˜¯ç«è½¦æŠ‘æˆ–æ˜¯åˆ«çš„ç‰©ä½“ï¼Œå†æˆ–è€…åŽ»åŒ»é™¢åŒ»ç”Ÿè¯Šæ–­ç—…äººèº«ä½“é‡Œçš„è‚¿ç˜¤æ˜¯å¦æ˜¯æ¶æ€§çš„ï¼Œè¿™äº›é—®é¢˜å…¨éƒ¨éƒ½å±žäºŽåˆ†ç±»é—®é¢˜çš„èŒƒç•´ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨æœºå™¨å­¦ä¹ ä¸­é‡åˆ°æ­¤ç±»é—®é¢˜è¯¥æ€Žä¹ˆåšå‘¢ï¼Ÿ æˆ‘ä»¬å¯èƒ½é¦–å…ˆä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç”¨ä¹‹å‰çº¿æ€§å›žå½’çš„æ–¹æ³•æ¥å¤„ç†åˆ†ç±»é—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆå…¶å®žæ˜¯å¯ä»¥ï¼Œä¸è¿‡æˆ‘ä»¬åœ¨è®¡ç®—æŸå¤±å‡½æ•°æ—¶éœ€è¦å¯¹é¢„æµ‹å€¼è¿œè¿œåç¦»çœŸå®žå€¼çš„å¯¹è±¡è¿›è¡Œæ‰“å‡»ã€‚ç†ç”±ä¹Ÿå¾ˆç®€å•ï¼Œå› ä¸ºè¿™äº›è¿‡å¤§çš„åå·®ä¼šä½¿æˆ‘ä»¬çš„å›žå½’ç»“æžœå‘å‡å°è¿™ç±»åå·®çš„æ–¹å‘ç§»åŠ¨ï¼Œé€ æˆä¸‹å›¾æ‰€ç¤ºçš„ç»“æžœã€‚ å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§åšæ³•å¹¶ä¸æ˜¯åˆ†ç±»é—®é¢˜çš„æœ€ä¼˜è§£å†³æ–¹æ¡ˆï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬ç ”ç©¶ä¸€ç§å¯é çš„åˆ†ç±»é—®é¢˜çš„è§£æ³•ã€‚ äºŒå…ƒåˆ†ç±»é—®é¢˜ï¼ˆBinary Classificationï¼‰ é¦–å…ˆï¼Œæˆ‘ä»¬ä»ŽäºŒå…ƒåˆ†ç±»é—®é¢˜å¼€å§‹å…¥æ‰‹ã€‚ä½•è°“äºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Ÿé€šä¿—è®²å°±æ˜¯åªæœ‰ä¸¤ä¸ªç±»åˆ«çš„åˆ†ç±»é—®é¢˜ï¼Œå¦‚æ˜¯ä¸æ˜¯åžƒåœ¾é‚®ä»¶ï¼Œæ˜¯ä¸æ˜¯æ¶æ€§è‚¿ç˜¤è¿™ç±»éžé»‘å³ç™½çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºäºŒå…ƒåˆ†ç±»é—®é¢˜ã€‚ æ¦‚çŽ‡è§£æ³• å¦‚æžœæœ‰ä¸¤ä¸ªç±»åˆ«$C_1,C_2$ï¼Œé‡Œé¢åˆ†åˆ«åŒ…å«äº†$N_1,N_2$ä¸ªå…ƒç´ ã€‚çŽ°ä»Žä¸¤ä¸ªç±»åˆ«ä¸­éšæœºæŒ‘å‡ºä¸€ä¸ªå…ƒç´ xï¼Œè¯¥å…ƒç´ xæ¥è‡ª$C_1$çš„æ¦‚çŽ‡å¯ç”±è´å¶æ–¯å…¬å¼ç®—å‡ºï¼š P(C_1|x)=\frac{P(x|C_1)P(C_1)}{P(x|C_1)P(C_1)+P(x|C_2)P(C_2)}åœ¨è¿™ä¸ªå…¬å¼ä¸­ï¼Œ$P(C_1),P(C_2)$çš„å€¼æ˜¾è€Œæ˜“è§ï¼š P(C_1)=\frac{N_1}{N_1+N_2}\ ,\ P(C_2)=\frac{N_2}{N_1+N_2}æŽ¥ç€ï¼Œæˆ‘ä»¬å‡è®¾å…ƒç´ xæ˜¯ä»Žå¤šç»´é«˜æ–¯åˆ†å¸ƒï¼ˆGaussianDistributionï¼‰ä¸­é€‰å–å‡ºæ¥çš„ï¼Œåˆ™æœ‰ï¼š P(x|C_1)=f_{\mu_1,\Sigma_1}(x)=\frac{1}{(2\pi)^{D/2}}\frac{1}{|\Sigma_1|^{1/2}}e^{-\frac{1}{2}(x-\mu_1)^T\Sigma_1^{-1}(x-\mu_1)} åœ¨è¿™ä¸ªè¡¨è¾¾å¼åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼šå‡å€¼$\mu$ï¼Œåæ–¹å·®$\Sigma$ï¼Œå¦‚æžœå‡è®¾é€‰å–æ ·æœ¬$x^{(i)}$ç›¸äº’ç‹¬ç«‹ï¼Œé‚£ä¹ˆæ‰€æœ‰æ ·æœ¬æ¥è‡ªè¯¥é›†åˆæ¦‚çŽ‡ä¸ºï¼š L(\mu,\Sigma)=\Pi_{i=1}^{m}f_{\mu,\Sigma}(x^{(i)})ç”±äºŽæ ·æœ¬$x^{(i)}$æœ¬æ¥å°±æ˜¯å­˜åœ¨äºŽé›†åˆä¸­çš„ï¼Œæ‰€ä»¥åº”è¯¥æœ€å¤§åŒ–è¿™ä¸ªæ¦‚çŽ‡ï¼Œæ ¹æ®å¯¹æ•°ä¼¼ç„¶ä¼°è®¡å¯å¾—ï¼š \mu^*,\Sigma^*=arg\ max_{\mu,\Sigma}\ L(\mu,\Sigma)\frac{\partial lnf}{\partial\mu}=0,\ \mu^*=\frac{1}{m}\sum_{i=1}^{m}x^{(i)}\frac{\partial{lnf}}{\partial{\Sigma}}=0,\ \Sigma^*=\frac{1}{m}\sum_{i=1}^{m}(x^{(i)}-\mu^*)^T(x^{(i)}-\mu^*)é€šè¿‡å¯¹æ•°ä¼¼ç„¶ä¼°è®¡æˆ‘ä»¬å¯ä»¥æ±‚å¾—$\mu,\Sigma$ï¼Œè¿›è€Œè®¡ç®—å‡º$P(x|C_1)$ã€‚åŒç†æˆ‘ä»¬ç”¨ç›¸åŒçš„æ–¹æ³•äº¦å¯æ±‚å¾—$P(x|C_2)$ï¼Œæœ€ç»ˆå¾—åˆ°$P(C_1|x)ï¼ŒP(C_2|x)$ã€‚ é€»è¾‘å›žå½’ï¼ˆLogestic Regressionï¼‰ æˆ‘ä»¬å°†æ¦‚çŽ‡è§£æ³•ä¸­çš„è´å¶æ–¯å…¬å¼ç¨ä½œå˜å½¢å¯å¾—ï¼š P(C_1|x)=\frac{1}{1+\frac{P(x|C_2)P(C_2)}{P(x|C_1)P(C_1)}}=\frac{1}{1+e^{-z}}=\sigma(z)è¿™é‡Œçš„$\sigma(z)$æ˜¯sigmoidå‡½æ•°ï¼Œå…¶ä¸­è‡ªå˜é‡zä¸ºï¼š z=ln\frac{P(x|C_1)P(C_1)}{P(x|C_2)P(C_2)}=ln\frac{P(x|C_1)}{P(x|C_2)}+ln\frac{N_1}{N_2}å¯¹äºŽä¸åŒçš„ç‰¹å¾$x_i$ï¼Œé€‰æ‹©ä¸åŒçš„$\Sigma_i$å¯èƒ½å¼•å…¥è¿‡å¤šå˜é‡å¯¼è‡´è¿‡æ‹ŸåˆçŽ°è±¡ï¼Œå› æ­¤æˆ‘ä»¬å¯¹äºŽæ‰€æœ‰ç‰¹å¾é€‰æ‹©ç›¸åŒçš„$\Sigma$å’Œä¸åŒçš„$\mu_i$è®¡ç®—$P(x|C_i)$ï¼Œåˆ™æœ‰: z=(\mu_1-\mu_2)^T\Sigma^{-1}x-\frac{1}{2}\mu_1^T\Sigma^{-1}\mu_1+\frac{1}{2}\mu_2^T\Sigma^{-1}\mu_2+ln\frac{N_1}{N_2}å¦‚æžœæˆ‘ä»¬æŠŠxå‰çš„ç³»æ•°$(\mu_1-\mu_2)^T\Sigma^{-1}$çœ‹ä½œå‚æ•°å‘é‡$[\theta_1,\theta_2 \dots \theta_n]$ï¼ŒxåŽå…¶ä»–é¡¹çœ‹ä½œå¸¸æ•°$\theta_0$ï¼š z=\theta^Tx+\theta_0å°†ä¸Šè¿°å…¬å¼æ•´ç†åŽï¼Œå³å¯å¾—é¢„æµ‹å‡½æ•°ï¼š h_\theta(X)=\frac{1}{1+e^{-\theta^TX}}\in[0,1]\begin{equation} y = \begin{cases} 0, & h_\theta(X)]]></content>
      <tags>
        <tag>Python</tag>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ”¶é›†æ–‡æ¡£åŠæäº¤åå•ç»Ÿè®¡]]></title>
    <url>%2F2020%2F03%2F27%2F%E6%94%B6%E9%9B%86%E6%96%87%E6%A1%A3%E5%8F%8A%E6%8F%90%E4%BA%A4%E5%90%8D%E5%8D%95%E7%BB%9F%E7%BB%9F%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[æ–‡å”å”æ–‡æ¡£æ”¶é›† ä½¿ç”¨åŠ¨æœºåœ¨æˆ‘ä»¬çš„å­¦ä¹ å·¥ä½œä¸­ï¼Œå°‘ä¸äº†è¦è®©å¤§å®¶é›†ä½“æäº¤æ–‡ä»¶çš„æƒ…å†µï¼Œä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼šæ”¶ä½œä¸šã€‚ä¼ ç»Ÿçš„æ–‡ä»¶æ”¶é›†æµç¨‹å¤§è‡´æ˜¯ï¼šç¾¤å†…å‘å‡ºæ–‡ä»¶æäº¤é€šçŸ¥$\rightarrow$æ¯ä½å‚ä¸Žè€…å‘è´Ÿè´£äººå•ç‹¬å‘é€æ–‡æ¡£$\rightarrow$è´Ÿè´£äººé€ä¸€æŽ¥æ”¶æ±‡æ€»$\rightarrow$ç»Ÿè®¡æ–‡æ¡£æäº¤æƒ…å†µã€‚å¯èƒ½æœ‰äººä¼šè¯´ç›´æŽ¥ä¸Šä¼ åˆ°ç¾¤æ–‡ä»¶ä¸å°±å¥½äº†ï¼Ÿä½†è¿™æ ·çš„åšæ³•ä¼šä½¿æ–‡æ¡£æœ‰ä¿¡æ¯æ³„æ¼çš„é£Žé™©ã€‚ä½†ä¸€æ¬¾åä¸ºæ–‡å”å”çš„åº”ç”¨æä¾›äº†å¿«é€Ÿæ”¶é›†æ–‡ä»¶çš„åŠŸèƒ½ï¼Œå¤§å¤§ç®€åŒ–äº†æ–‡ä»¶æ±‡æ€»æµç¨‹ã€‚ æ”¶é›†æ–¹ä½œä¸ºæ”¶é›†æ–¹åªéœ€å‘å‡ºé‚€è¯·ã€è®¾ç½®æˆªæ­¢æ—¶é—´å¹¶æ‹·è´é‚€è¯·é“¾æŽ¥å³å¯å®Œæˆä¸€æ¬¡æ”¶é›†ä»»åŠ¡çš„å‡†å¤‡å·¥ä½œã€‚ æ”¶é›†ä»»åŠ¡åˆ›å»ºå¥½åŽä¼šåœ¨æ”¶é›†äººè´¦å·çš„æ”¶å‘è®°å½•ä¸­è‡ªå·±åˆ›å»ºå…³äºŽæœ¬æ¬¡æ–‡ä»¶æ”¶å–çš„ä»»åŠ¡æ ï¼Œæ‰€æœ‰æäº¤çš„æ–‡ä»¶éƒ½è¢«æ±‡æ€»åœ¨è¯¥ä»»åŠ¡ä¸­å¹¶å¯æ‰¹é‡ä¸‹è½½ã€‚ æäº¤æ–¹è¿™æ¬¾è½¯ä»¶çš„å¦ä¸€å¤§ä¼˜ç‚¹å°±ä½“çŽ°åœ¨æäº¤æ–¹æ“ä½œçš„ç®€æ´æ€§ã€‚æŽ¥æ”¶åˆ°é“¾æŽ¥çš„ç”¨æˆ·ï¼Œæ— è®ºç™»é™†è¿˜æ˜¯æœªç™»å½•ï¼Œéƒ½å¯ä»¥ç›´æŽ¥æ‰“å¼€ä¼ æ–‡ä»¶çš„å…¥å£ã€‚åªéœ€ä¸Šä¼ æ–‡ä»¶ï¼Œç„¶åŽç•™ä¸‹å§“åæ–¹ä¾¿ç¡®è®¤èº«ä»½ï¼Œç‚¹å‡»å‘é€å³å¯å®Œæˆä»»åŠ¡æäº¤ã€‚ å…¶ä½™è¯¦ç»†è¯´æ˜Žå¯ä»¥å‚è€ƒæ–‡å”å”çŸ¥ä¹Žé“¾æŽ¥ pythonç»Ÿè®¡æäº¤ä¿¡æ¯ å°½ç®¡æ–‡å”å”æä¾›äº†ååˆ†å¿«æ·çš„æ–‡ä»¶æ”¶é›†åŠŸèƒ½ï¼Œä½†åŽç»­æˆ‘ä»¬è¿˜éœ€è¦æ‰‹åŠ¨ç»Ÿè®¡æäº¤æƒ…å†µï¼Œä½†æ˜¯åˆ©ç”¨pythonæˆ‘ä»¬ä¾¿å¯ä»¥å®žçŽ°å®žæ—¶æŸ¥è¯¢æ–‡ä»¶æäº¤æƒ…å†µã€‚ è¿™é‡Œçš„å®žçŽ°æ–¹å¼åŒæ ·ä½¿ç”¨äº†seleniumåº“ï¼Œå…·ä½“å®žçŽ°åŽŸç†å°±ä¸å†èµ˜è¿°ï¼Œç›´æŽ¥æä¾›ä»£ç å¹¶è¯´æ˜Žå¦‚ä½•ç›´æŽ¥ä½¿ç”¨ã€‚ å¯¼å…¥æˆå‘˜å¯¼å…¥æˆå‘˜æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä»Žexcelä¸€æ¬¡æ€§å¯¼å…¥ï¼Œå¦ä¸€ç§æ˜¯æ‰‹åŠ¨è¾“å…¥ã€‚å¦‚æžœæ²¡æœ‰ç¼–ç¨‹åŸºç¡€å»ºè®®é‡‡ç”¨åŽè€…ï¼Œå…·ä½“å®žçŽ°æ–¹æ³•å‚ç…§ä¸‹æ–‡name_listå®žçŽ°æ–¹æ³•ã€‚ 1234567891011121314# æ–¹æ³•ä¸€ï¼šexcelå¯¼å…¥æˆå‘˜ä¿¡æ¯import pandas as pdimport numpy as npname_list = &#123;&#125;data = pd.read_excel("class_data.xlsx")data = data.iloc[2:,0]data = data.to_numpy()for i in range(len(data)): name_list[str(data[i])] = 0;# æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ·»åŠ æˆå‘˜ï¼ˆä¿®æ”¹åå­—å³å¯ï¼Œä¸€åŠ³æ°¸é€¸ï¼‰name_list = &#123; 'æ¨å®‡è±ª':0, 'ä»£æºŸä¼Ÿ':0, 'è‚–å“ç¦':0, 'èƒ¡é¹':0, 'ç†Šæ¢“æ—­':0, 'æŽæ´ªæ³¢':0, 'æ´›æ¡‘æ¬¡ä»':0, 'é™ˆæˆŒ':0, 'è–›å®¸ç†™':0, 'åˆ˜é‡‘ç‚œ':0 &#125; æ±‡æ€»æäº¤æƒ…å†µéœ€è¦ä¿®æ”¹é¡¹ï¼š user_infoï¼šæ·»åŠ è´¦å·ç™»å½•ä¿¡æ¯ï¼ˆå¯æ·»åŠ å¤šä¸ªï¼‰ userï¼šé€‰æ‹©ç™»å½•è´¦æˆ· share_linkï¼šæä¾›å¾…ç»Ÿè®¡ä»»åŠ¡çš„åˆ†äº«é“¾æŽ¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869from selenium import webdriverfrom selenium.webdriver.chrome.options import Optionsimport time# é€‰æ‹©ç™»å½•è´¦æˆ·user = "ä»£æºŸä¼Ÿ"# å¾…ç»Ÿè®¡ä»»åŠ¡å¯¹åº”åˆ†äº«é“¾æŽ¥share_link = "https://wss.pet/s/2575sct1kdj"# å„ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼ˆè´¦å·å¯†ç ï¼‰user_info = &#123; "æ¨å®‡è±ª":['ç™»å½•ç”¨æˆ·å', 'ç™»å½•å¯†ç '], "ä»£æºŸä¼Ÿ":['ç™»å½•ç”¨æˆ·å', 'ç™»å½•å¯†ç '] &#125;login_number = user_info[user][0]login_password = user_info[user][1]# ä¸å«Œéº»çƒ¦å¯ä»¥åƒè¿™æ ·æ‰‹åŠ¨æ·»åŠ æˆå‘˜ï¼ˆä¸€åŠ³æ°¸é€¸ï¼‰name_list = &#123; 'æ¨å®‡è±ª':0, 'ä»£æºŸä¼Ÿ':0, 'è‚–å“ç¦':0, 'èƒ¡é¹':0, 'ç†Šæ¢“æ—­':0, 'æŽæ´ªæ³¢':0, 'æ´›æ¡‘æ¬¡ä»':0, 'é™ˆæˆŒ':0, 'è–›å®¸ç†™':0, 'åˆ˜é‡‘ç‚œ':0 &#125;chrome_options = Options()chrome_options.add_argument("--headless")driver = webdriver.Chrome(options=chrome_options)# driver = webdriver.Chrome()driver.maximize_window()driver.implicitly_wait(5)print("Entering the website...")url = "https://www.wenshushu.cn/signin"driver.get(url)time.sleep(2)print("Inputing login info...")driver.find_element_by_xpath("//div[@id='page_content']/div/div/div/div/ul/li[2]").click()driver.find_element_by_xpath("//input[@type='text']").click()driver.find_element_by_xpath("//input[@type='text']").clear()driver.find_element_by_xpath("//input[@type='text']").send_keys(login_number)driver.find_element_by_xpath("//input[@type='password']").click()driver.find_element_by_xpath("//input[@type='password']").clear()driver.find_element_by_xpath("//input[@type='password']").send_keys(login_password)driver.find_element_by_xpath("//div[@id='page_content']/div/div/div/div[2]/div/div/button/span").click()time.sleep(2)print("Locating to the task...")url = "https://www.wenshushu.cn/f/" + str(share_link[18:])driver.get(url)print("Checking submit info...")time.sleep(3)page_info = driver.find_elements_by_css_selector("[class='g-upload_user']")for i in range(len(page_info)): name_list[page_info[i].get_attribute('innerText')] = 1 #print(page_info[i].get_attribute('innerText'))print("Writing detailed list...")print("unsubmit list:\n")for name in name_list.keys(): if(name_list[name] == 0): print(name)print("\nsubmit list:\n")for name in name_list.keys(): if(name_list[name] == 1): print(name)driver.close()print("Check Finished!")]]></content>
      <tags>
        <tag>Notes</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ -å›žå½’é—®é¢˜(Regression)]]></title>
    <url>%2F2020%2F03%2F23%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%9B%9E%E5%BD%92%EF%BC%88Regression%EF%BC%89%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å›žå½’é—®é¢˜æ˜¯ä»€ä¹ˆ å›žå½’é—®é¢˜æ˜¯æœºå™¨å­¦ä¹ ä¸‰å¤§åŸºæœ¬æ¨¡åž‹ä¸­å¾ˆé‡è¦çš„ä¸€çŽ¯ï¼Œå…¶åŠŸèƒ½æ˜¯å»ºæ¨¡å’Œåˆ†æžå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ å›žå½’é—®é¢˜å¤šç”¨æ¥é¢„æµ‹ä¸€ä¸ªå…·ä½“çš„æ•°å€¼ï¼Œå¦‚é¢„æµ‹æˆ¿ä»·ã€æœªæ¥çš„å¤©æ°”æƒ…å†µç­‰ç­‰ã€‚ä¾‹å¦‚æˆ‘ä»¬æ ¹æ®ä¸€ä¸ªåœ°åŒºçš„è‹¥å¹²å¹´çš„PM2.5æ•°å€¼å˜åŒ–æ¥ä¼°è®¡æŸä¸€å¤©è¯¥åœ°åŒºçš„PM2.5å€¼å¤§å°ï¼Œé¢„æµ‹å€¼ä¸Žå½“å¤©å®žé™…æ•°å€¼å¤§å°è¶ŠæŽ¥è¿‘ï¼Œå›žå½’åˆ†æžç®—æ³•çš„å¯ä¿¡åº¦è¶Šé«˜ã€‚ é¢å¯¹ä¸€ä¸ªå›žå½’é—®é¢˜ï¼Œæˆ‘ä»¬å¯ç®€è¦æè¿°å…¶æ±‚è§£æµç¨‹ï¼š é€‰å®šè®­ç»ƒæ¨¡åž‹ï¼Œå³æˆ‘ä»¬ä¸ºç¨‹åºé€‰å®šä¸€ä¸ªæ±‚è§£æ¡†æž¶ï¼Œå¦‚çº¿æ€§å›žå½’æ¨¡åž‹(Linear Regression)ç­‰ã€‚ å¯¼å…¥è®­ç»ƒé›† train_setï¼Œå³ç»™æ¨¡åž‹æä¾›å¤§é‡å¯ä¾›å­¦ä¹ å‚è€ƒçš„æ­£ç¡®æ•°æ®ã€‚ é€‰æ‹©åˆé€‚çš„å­¦ä¹ ç®—æ³•ï¼Œé€šè¿‡è®­ç»ƒé›†ä¸­å¤§é‡è¾“å…¥è¾“å‡ºç»“æžœè®©ç¨‹åºä¸æ–­ä¼˜åŒ–è¾“å…¥æ•°æ®ä¸Žè¾“å‡ºæ•°æ®é—´çš„å…³è”æ€§ï¼Œä»Žè€Œæå‡æ¨¡åž‹çš„é¢„æµ‹å‡†ç¡®åº¦ã€‚ åœ¨è®­ç»ƒç»“æŸåŽå³å¯è®©æ¨¡åž‹é¢„æµ‹ç»“æžœï¼Œæˆ‘ä»¬ä¸ºç¨‹åºæä¾›ä¸€ç»„æ–°çš„è¾“å…¥æ•°æ®ï¼Œæ¨¡åž‹æ ¹æ®è®­ç»ƒé›†çš„å­¦ä¹ æˆæžœæ¥é¢„æµ‹è¿™ç»„è¾“å…¥å¯¹åº”çš„è¾“å‡ºå€¼ã€‚ åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå›žå½’é—®é¢˜æ±‚è§£çš„æ¯ä¸€ä¸ªæ­¥éª¤å…·ä½“æ˜¯æ€Žæ ·å®žçŽ°çš„å‘¢ï¼Ÿ å›žå½’é—®é¢˜æ±‚è§£ æ­¥éª¤ä¸€ï¼šæ¨¡åž‹çš„é€‰å– (Model Selection) åœ¨ä¸€ä¸ªå›žå½’é—®é¢˜ä¸­ï¼Œå¾ˆæ˜¾ç„¶æ¨¡åž‹é€‰æ‹©å’Œå¥½åä¼šç›´æŽ¥å…³ç³»åˆ°å°†æ¥é¢„æµ‹ç»“æžœçš„æŽ¥è¿‘ç¨‹åº¦ï¼Œä¸¾ä¸ªä¾‹å­ï¼šå¦‚æžœå°†ä¸€ç»„æŒ‰äºŒæ¬¡å‡½æ•°å…³ç³»åˆ†å¸ƒçš„æ•°æ®ç”¨çº¿æ€§å…³ç³»æ‹Ÿåˆçš„ç»“æžœåå·®ä¸€å®šä¼šç›¸å¯¹è¾ƒå¤§ã€‚ å¸¸è§çš„æ¨¡åž‹æœ‰ä¸¤ç§ï¼š çº¿æ€§æ¨¡åž‹(Linear Model)y_w(x) = w_0 + w_1 * x å¤šé¡¹å¼æ¨¡åž‹(Polynomial Model)y_w(x) = w_0 + w_1 * x + w_2 * x^2 + w_3 * x^3 \dots å¯¹äºŽè®­ç»ƒé›†è€Œè¨€ï¼Œç‰¹å¾çš„æ¬¡æ•°è¶Šé«˜ï¼Œæ‹Ÿåˆæ‰€æ¶µç›–çš„èŒƒå›´è¶Šå¹¿ï¼Œç›¸åº”å¯¹äºŽè®­ç»ƒé›†çš„é¢„æµ‹ä¹Ÿè¶Šå‡†ç¡®ã€‚ç„¶è€Œï¼Œè¿™å¹¶éžè¯´æ˜Žæ–¹ç¨‹è¶Šå¤æ‚é¢„æµ‹æ•ˆæžœè¶Šå¥½ï¼Œå› ä¸ºæœ€ç»ˆè¯„ä»·æ¨¡åž‹å¥½åè¿˜æ˜¯å–å†³äºŽå¯¹æµ‹è¯•é›†(test_set)çš„é¢„æµ‹ç»“æžœï¼Œè¿‡äºŽå¤æ‚çš„æ¨¡åž‹å¯èƒ½äº§ç”Ÿè¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè¿™ä¸€ç‚¹ä¼šåœ¨ä¸‹æ–‡ä»‹ç»ã€‚ æ­¥éª¤äºŒï¼šæ•°æ®å¤„ç† (Feature Scaling) æž„é€ çŸ©é˜µä¸ºäº†ä¾¿äºŽåŽç»­è®¡ç®—ï¼Œæˆ‘ä»¬è¦å°†æ•°æ®é›†å†…çš„æ•°æ®è¿›è¡Œæ•´ç†ã€‚æ ¹æ®çŸ©é˜µçš„è¿ç®—æ€§è´¨ï¼š \begin{pmatrix} y_1\\ y_2\\ y_3\\ \vdots\\ y_n\\ \end{pmatrix}= \begin{pmatrix} x_{11} \ x_{12} \ x_{13} \ \cdots \ x_{1m} \\ x_{21} \ x_{22} \ x_{23} \ \cdots \ x_{2m} \\ x_{31} \ x_{32} \ x_{33} \ \cdots \ x_{3m} \\ \vdots \quad \vdots \quad \vdots \quad \vdots \quad \vdots \\ x_{n1} \ x_{n2} \ x_{n3} \ \cdots \ x_{nm} \\ \end{pmatrix} \begin{pmatrix} w_1\\ w_2\\ w_3\\ \vdots\\ w_n\\ \end{pmatrix}æˆ‘ä»¬éœ€è¦æŠŠè®­ç»ƒé›†(train_set)ä¸­è¾“å…¥è¾“å‡ºæ•°æ®è½¬åŒ–æˆç›¸åº”çš„çŸ©é˜µå½¢å¼ï¼Œè¾“å‡ºæ•°æ®ä¸ºåˆ—å‘é‡ï¼Œè¾“å…¥æ•°æ®æ¯è¡ŒæŽ’å¸ƒè®¡ç®—ä¸€ä¸ªè¾“å‡ºå€¼æ‰€éœ€è¦çš„mä¸ªå˜é‡ã€‚ æ•°æ®æ ‡å‡†åŒ–å¦‚æžœä¸¤ç‰¹å¾æ•°å€¼å·®å¼‚è¾ƒå¤§æ—¶ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æ¢¯åº¦ï¼ˆä¹‹åŽä¼šä»‹ç»ï¼‰æ—¶å°†ä¼šå¦‚ä¸‹å›¾1æ‰€ç¤ºï¼Œè¿‡ç¨‹æ›²æŠ˜è€—æ—¶ã€‚ä¸ºäº†æ¶ˆé™¤æ­¤å½±å“ï¼Œä¿è¯æ¯ä¸ªå˜é‡å¯¹äºŽé¢„æµ‹ç»“æžœçš„å½±å“æƒé‡ç›¸åŒï¼Œæˆ‘ä»¬é€šå¸¸å°†ç‰¹å¾é‡åŒ–åˆ°ç»Ÿä¸€çš„åŒºé—´å†…ï¼Œä½¿å¾—ç‰¹å¾æ¢¯åº¦å˜ä¸ºå›¾2æ‰€ç¤ºçš„çŠ¶æ€ï¼Œé‡åŒ–çš„æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç§ï¼š å½’ä¸€åŒ–ï¼ˆNormalizationï¼‰ æŠŠæ•°æ®è½¬åŒ–ä¸ºåŒºé—´åœ¨[0,1]çš„åˆ†å¸ƒï¼šx_i^r = \frac{x_i^r-min(x_i)}{max(x_i)-min(x_i)} æ ‡å‡†åŒ–ï¼ˆStandardizationï¼‰ æŠŠæ•°æ®è½¬åŒ–ä¸ºåŒºé—´åœ¨[-1,1]ä¸”æœä»Žæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„å€¼ï¼šx_i^r = \frac{x_i^r-\mu_i}{\delta_i} å…¶ä¸­$\mu$ä»£è¡¨ç‰¹å¾çš„å‡å€¼ï¼Œ$\delta$ä»£è¡¨ç‰¹å¾çš„æ ‡å‡†å·® 123456mean_x = np.mean(x, axis = 0)std_x = np.std(x, axis = 0)for i in range(len(x)): for j in range(len(x[0])): if std_x[j] != 0: x[i][j] = (x[i][j] - mean_x[j]) / std_x[j] âš ï¸æ³¨æ„ï¼šæˆ‘ä»¬åœ¨å¯¹æµ‹è¯•é›†åšç‰¹å¾ç¼©æ”¾æ—¶è¦ä½¿ç”¨å…ˆå‰å¯¹è®­ç»ƒé›†è¿›è¡Œç‰¹å¾ç¼©æ”¾æ—¶æ‰€ä½¿ç”¨çš„å‚æ•°$\mu,\delta$ï¼Œè€Œä¸èƒ½æ ¹æ®æµ‹è¯•é›†å¦ç®—ä¸€ç»„å‡å€¼æ–¹å·®åšç‰¹å¾ç¼©æ”¾ã€‚ æ­¥éª¤ä¸‰ï¼šæŸå¤±å‡½æ•° (Loss Funtion) ä½•è°“æŸå¤±å‡½æ•°ï¼Ÿè¯´ç™½äº†å°±æ˜¯è¯„ä»·æ¨¡åž‹æ‰€äº§ç”Ÿçš„é¢„æµ‹ç»“æžœçš„ä¸€ä¸ªå‡½æ•°ï¼ŒæŸå¤±å‡½æ•°çš„åé¦ˆå€¼æ˜¯æœºå™¨å­¦ä¹ è°ƒæ•´å‚æ•°çš„é‡è¦ä¾æ®ã€‚å¯¹äºŽå›žå½’é—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨ä»¥ä¸‹å‡ ç§æŸå¤±å‡½æ•°ï¼š å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰RMSE=\sqrt{\frac{1}{n}\sum_{i=0}^{n}{\left(\hat{y_i}-\sum_{j=0}^{m}{w_{ij}x_{ij}}\right)^2}} å‡æ–¹æ ¹è¯¯å·®å®¹æ˜“å—å¼‚å¸¸ç‚¹ï¼ˆè¯¯å·®å¾ˆå¤§çš„ç‚¹ï¼‰å½±å“ï¼Œå®¹æ˜“æœå‡å°å¼‚å¸¸ç‚¹è¯¯å·®çš„æ–¹å‘è¡Œè¿›è€Œç‰ºç‰²æ€»ä½“æ€§èƒ½ã€‚ å¹³å‡ç»å¯¹å€¼è¯¯å·®ï¼ˆMAEï¼‰MAE=\frac{1}{n}\sum_{i=0}^{n}{|\hat{y_i}-\sum_{j=0}^{m}{w_{ij}x_{ij}}|} å¹³å‡ç»å¯¹å€¼è¯¯å·®çš„å¯¼æ•°æ˜¯å¸¸æ•°ï¼Œä¸åˆ©äºŽæ¢¯åº¦ä¸‹é™æ³•æ›´æ–°ï¼›åŒæ—¶è¯¥å‡½æ•°åœ¨0å¤„ä¸å¯å¾®ã€‚ å¹³æ»‘å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆHuberLossï¼‰ \begin{equation} L_{\delta}(y_i) = \begin{cases} \frac{1}{2}\left(\hat{y_i}-\sum_{j=0}^{m}{x_{ij}w_{ij}}\right)^2, & |\hat{y_i}-\sum_{j=0}^{m}{x_{ij}w_{ij}}| \leq \delta \\ \delta|\hat{y_i}-\sum_{j=0}^{m}{x_{ij}w_{ij}}|-\frac{1}{2}\delta^2, & otherwise \end{cases} \end{equation} HuberæŸå¤±ç»“åˆäº†MSEå’ŒMAEçš„ä¼˜ç‚¹ï¼Œå¯¹å¼‚å¸¸ç‚¹ä¸ä¼šç‰¹åˆ«æ•æ„ŸåŒæ—¶åœ¨0å¤„ä¹Ÿå¯å¾®ã€‚ä½†æ˜¯ï¼ŒHuberæŸå¤±çš„é—®é¢˜æ˜¯æˆ‘ä»¬éœ€è¦ä¸æ–­è°ƒæ•´è¶…å‚æ•°$\delta$ã€‚ æ­¥éª¤å››ï¼ˆä¸€ï¼‰ï¼šæ­£è§„æ–¹ç¨‹ï¼ˆNormal Equationï¼‰ æ‰€è°“æ­£è§„æ–¹ç¨‹ï¼Œå°±æ˜¯ç”¨è§£æžæ³•æ±‚å‚æ•°å‘é‡wï¼Œå¯ç”±çº¿æ€§å›žå½’æŸå¤±å‡½æ•°æŽ¨å¾—ï¼š J(w)=\left\|Xw-y \right\|^2=(Xw-y)^T(Xw-y)dJ=(Xdw)^T(Xw-y)+(Xw-y)^T(Xdw)=2(Xw-y)^TXdwdJ=tr((2X^T(Xw-y))^Tdw)\frac{\partial J}{\partial w}=2X^T(Xw-y)\frac{\partial J}{\partial w}=0\ \rightarrow\ X^TXw=X^Tyw=(X^TX)^{-1}X^Tyä½¿ç”¨æ­£è§„æ–¹ç¨‹éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š æ­£è§„æ–¹ç¨‹ä»…é€‚ç”¨äºŽçº¿æ€§å›žå½’æ¨¡åž‹ï¼Œä¸å¯ä¹±ç”¨ï¼› åœ¨ä½¿ç”¨æ­£è§„æ–¹ç¨‹æ±‚è§£æ—¶æ— éœ€è¿›è¡Œç‰¹å¾ç¼©æ”¾ï¼› è‹¥$X^TX$ä¸ºå¥‡å¼‚çŸ©é˜µåˆ™æ— æ³•æ±‚å…¶é€†çŸ©é˜µï¼Œä½¿ç”¨æ­£åˆ™åŒ–çš„æ–¹æ³•å¯ä»¥ä¿è¯çŸ©é˜µå¯é€†ï¼ŒåŽæ–‡ä¼šä»‹ç»ï¼› ä½¿ç”¨æ­£è§„æ–¹ç¨‹æ—¶åº”è¯¥æ³¨æ„å½“ç‰¹å¾æ•°é‡è§„æ¨¡å¤§äºŽ10000æ—¶ï¼Œ$(X^TX)^{-1}$æ±‚å…¶é€†çŸ©é˜µçš„æ—¶é—´å¤æ‚åº¦ä¼šå¾ˆé«˜ï¼Œä¸å®œç”¨æ­£è§„æ–¹ç¨‹æ±‚è§£ã€‚ æ­¥éª¤å››ï¼ˆäºŒï¼‰ï¼šæ¢¯åº¦ä¸‹é™ (Gradient Descent) ä¸ºäº†èŽ·å¾—æ›´å¥½çš„æ¨¡åž‹é¢„æµ‹ç»“æžœï¼Œæˆ‘ä»¬è¦è®©æŸå¤±å‡½æ•°L(w)çš„å€¼å°½å¯èƒ½å°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å›žå½’ç³»æ•°wå¯ä»¥å‘å‡å°æŸå¤±å‡½æ•°å€¼çš„æ–¹å‘ç§»åŠ¨ï¼Œå³ï¼š w^{*}=arg \ min_w \ L(w)ç”±å¯¼æ•°çŸ¥è¯†æˆ‘ä»¬ä¸éš¾å‘çŽ°ï¼Œè¦ä½¿æŸå¤±å‡½æ•°L(w)çš„å€¼å‡å°ï¼Œæˆ‘ä»¬åªéœ€è®©å›žå½’ç³»æ•°å‘ä¸Žå½“å‰ä½ç½®åå¯¼æ•°ç¬¦å·ç›¸åçš„æ–¹å‘æ›´æ–°å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š äºŽæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æœ€åŸºæœ¬çš„æ¢¯åº¦ä¸‹é™ç®—æ³•çš„æ›´æ–°æ­¥éª¤ï¼š w_1 \leftarrow w_0-\eta\frac{\partial L}{\partial w}|_{w=w_0}å…¶ä¸­ï¼Œè¶…å‚æ•°$\eta$ä»£è¡¨å­¦ä¹ é€ŸçŽ‡(learning_rate)ï¼Œå³å•æ¬¡æ›´æ–°æ­¥é•¿ã€‚$\eta$å€¼çš„é€‰æ‹©éœ€è°¨æ…Žï¼Œå¦‚æžœå¤ªå°æ›´æ–°é€ŸçŽ‡å¤ªæ…¢åˆ™å¾ˆéš¾åˆ°è¾¾ï¼›å¦‚æžœå¤ªå¤§åˆ™å®¹æ˜“ç›´æŽ¥è¶Šè¿‡æžå€¼ç‚¹ã€‚ å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆMBGDï¼‰ åŒºåˆ«äºŽæ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆBGDï¼‰æ¯æ¬¡è¿­ä»£ä½¿ç”¨å…¨éƒ¨æ ·æœ¬æ›´æ–°æ¢¯åº¦ï¼ŒMBGDæ¯æ¬¡åªä»Žæ ·æœ¬ä¸­éšæœºæŠ½å–ä¸€å°æ‰¹ï¼ˆmä¸ªï¼‰æ ·æœ¬è¿›è¡Œè®­ç»ƒã€‚ MBGDç®—æ³•æè¿°ï¼š åŠ¨é‡åŠ é€Ÿæ¢¯åº¦ä¸‹é™ åŠ¨é‡æ–¹æ³•ç”¨äºŽåŠ é€Ÿå­¦ä¹ ï¼Œç‰¹åˆ«æ˜¯å¤„ç†é«˜æ›²çŽ‡ã€å°ä½†ä¸€è‡´çš„æ¢¯åº¦ï¼Œæˆ–æ˜¯å¸¦å™ªå£°çš„æ¢¯åº¦ã€‚ é€Ÿåº¦vç´¯è®¡äº†æ¢¯åº¦å…ƒç´ $\nabla L$ï¼Œè¶…å‚æ•°$\alpha$å†³å®šäº†ä¹‹å‰æ¢¯åº¦è´¡çŒ®çš„è¡°å‡çŽ‡ã€‚ è¡°å‡çŽ‡ä¸º$\alpha$æ—¶å¯¹åº”ç€æœ€å¤§é€Ÿåº¦ä¸ºæ™®é€šæ¢¯åº¦ä¸‹é™çš„$\frac{1}{1-\alpha}$å€ã€‚ å¸¦åŠ¨é‡çš„ç®—æ³•æè¿°ï¼š Adagrad ç‹¬ç«‹åœ°é€‚åº”æ‰€æœ‰æ¨¡åž‹å‚æ•°çš„å­¦ä¹ çŽ‡ï¼Œå…·æœ‰è¾ƒå¤§åå¯¼çš„å‚æ•°ç›¸åº”æœ‰ä¸€ä¸ªè¾ƒå¤§çš„å­¦ä¹ çŽ‡ï¼Œè€Œå…·æœ‰å°åå¯¼çš„å‚æ•°åˆ™å¯¹åº”ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ çŽ‡ã€‚ ç¼ºç‚¹ï¼šä»Žè®­ç»ƒå¼€å§‹æ—¶ç§¯ç´¯æ¢¯åº¦å¹³æ–¹å¯èƒ½ä¼šå¯¼è‡´æœ‰æ•ˆå­¦ä¹ çŽ‡è¿‡æ—©å’Œè¿‡é‡çš„å‡å°ï¼Œå³æå‰æ”¶æ•›ã€‚ Adagradç®—æ³•æè¿°ï¼š Adagradä»£ç å®žçŽ°ï¼š 12345678910# adagradå³ç´¯è®¡å¹³æ–¹æ¢¯åº¦adagrad = np.zeros([dim, 1])eps = 1e-10for t in range(iter_time): loss = np.sqrt(np.sum(np.power((np.dot(x, w) - y), 2))/471/12) if(t % 1000 == 0): print(str(t) + ":" + str(loss)) gradient = 2 * np.dot(x.transpose(), np.dot(x, w) - y) adagrad += gradient ** 2 w = w - learning_rate * gradient / np.sqrt(adagrad + eps) RMSProp RMSPropæ˜¯å¯¹Adagradç®—æ³•çš„æ”¹è¿›ï¼Œå®ƒä½¿ç”¨æŒ‡æ•°è¡°å‡å¹³å‡ä»¥ä¸¢å¼ƒé¥è¿œè¿‡åŽ»çš„åŽ†å²ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨æ‰¾åˆ°å‡¸ç¢—çŠ¶ç»“æž„åŽå¿«é€Ÿæ”¶æ•›ã€‚ æŒ‡æ•°åŠ æƒå¹³å‡ï¼šå„æ•°å€¼çš„åŠ æƒè€Œéšæ—¶é—´è€ŒæŒ‡æ•°å¼é€’å‡ï¼Œè¶Šè¿‘æœŸçš„æ•°æ®åŠ æƒè¶Šé‡v_t = \beta * v_{t-1} + (1-\beta)*\theta_t RMSPropç®—æ³•æè¿°ï¼š å»ºè®®åˆå§‹å€¼ï¼š$\epsilon=0.001,\ \rho=0.9$ RMSPropä»£ç å®žçŽ°ï¼š 1234567891011learning_rate = 0.001rho = 0.9eps = 1e-10rsmp = np.zeros([dim, 1])for t in range(iter_time): loss = np.sqrt(np.sum(np.power((np.dot(x, w) - y), 2))/471/12) if(t % 100 == 0): print(str(t) + ":" + str(loss)) gradient = 2 * np.dot(x.transpose(), np.dot(x, w) - y) rsmp = rho * rsmp + (1 - rho) * gradient ** 2 w = w - learning_rate * gradient / np.sqrt(rsmp + eps) Adam Adamæ˜¯å¯¹RSMPropçš„è¿›ä¸€æ­¥æ”¹è¿›ï¼Œå®ƒé™¤äº†å¼•å…¥åŽ†å²æ¢¯åº¦å¹³æ–¹çš„æŒ‡æ•°è¡°å‡å¹³å‡ï¼ˆrï¼‰å¤–ï¼Œè¿˜ä¿ç•™äº†åŽ†å²æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡å¹³å‡ï¼ˆsï¼‰ï¼Œç›¸å½“äºŽåŠ¨é‡ã€‚ Adamç®—æ³•æè¿°ï¼š å»ºè®®åˆå§‹å€¼ï¼š$\epsilon=0.001,\ \rho_1=0.9,\ \rho_2=0.999$ Adamä»£ç å®žçŽ°ï¼š 12345678910111213141516adam_v = np.zeros([dim, 1])adam_s = np.zeros([dim, 1])rho1 = 0.9rho2 = 0.999learning_rate = 0.001eps = 1e-10for t in range(iter_time): loss = np.sqrt(np.sum(np.power((np.dot(x, w) - y), 2))/len(x)) if(t % 1000 == 0): print(str(t) + ":" + str(loss)) gradient = 2 * np.dot(x.transpose(), np.dot(x, w) - y) adam_v = rho1 * adam_v + (1 - rho1) * gradient adam_v_correct = adam_v / (1 - np.power(rho1, t+1)) adam_s = rho2 * adam_s + (1 - rho2) * gradient * gradient adam_s_correct = adam_s / (1 - np.power(rho2, t+1)) w = w - learning_rate * adam_v_correct / (np.sqrt(adam_s_correct) + eps) å›žå½’é—®é¢˜é”™è¯¯åˆ†æž å¼•èµ·å®žé™…å€¼$\hat{y}$ä¸Žé¢„æµ‹å€¼$y^{*}$ä¹‹é—´å­˜åœ¨è¯¯å·®çš„å› ç´ æœ‰ä¸¤ç‚¹ï¼Œä¸€ä¸ªæ˜¯åå·®å€¼ï¼ˆbiasï¼‰ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯æ–¹å·®ï¼ˆvarienceï¼‰ã€‚è€Œç”±è¿™ä¸¤ç±»åå·®å¼•èµ·è¯¯å·®çš„ç›¸å¯¹å¤§å°å¯ä»¥å°†é”™è¯¯æ‹Ÿåˆç»“æžœåˆ†ä¸ºä¸¤ç±»ï¼šæ¬ æ‹Ÿåˆï¼ˆunderfittingï¼‰å’Œè¿‡æ‹Ÿåˆï¼ˆoverfittingï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ¬ æ‹Ÿåˆ è¯Šæ–­ï¼šé¢„æµ‹è¯¯å·®åœ¨è®­ç»ƒé›†å°±æ¯”è¾ƒå¤§ï¼Œæ˜Žæ˜¾ç”±biaså¼•èµ·ã€‚ å¤„ç†ï¼š å¢žåŠ ç‰¹å¾æ•°é‡ é€‰ç”¨æ›´å¤æ‚çš„æ¨¡åž‹ï¼ˆçº¿æ€§æ¨¡åž‹å˜é«˜æ¬¡å¤šé¡¹å¼æ¨¡åž‹ï¼‰ è¿‡æ‹Ÿåˆ è¯Šæ–­ï¼šé¢„æµ‹è¯¯å·®åœ¨è®­ç»ƒé›†è¾ƒå°ï¼Œä½†åœ¨æµ‹è¯•é›†ä¸­åº”ç”¨æ—¶æ˜¾è‘—å¢žåŠ ï¼Œæ˜Žæ˜¾ç”±varienceå¼•èµ·ã€‚ å¤„ç†ï¼š å‡å°‘ç‰¹å¾æ•°é‡ èŽ·å–æˆ–è€…æž„é€ æ›´å¤šè®­ç»ƒæ•°æ® æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰ æ¨¡åž‹è¿‡äºŽå¤æ‚ï¼Œé€‰å–åˆé€‚æ¨¡åž‹ æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰å®žé™…ä¸Šï¼Œç‰¹å¾å‚æ•°çš„å€¼wè¶Šå°ï¼Œé€šå¸¸å¯¹åº”äºŽè¶Šå…‰æ»‘çš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ›´åŠ ç®€å•çš„å‡½æ•°ï¼Œä»–ä»¬å¯¹äºŽè¾“å…¥æ•°æ®çš„å˜åŒ–ä¸æ•æ„Ÿï¼Œå› æ­¤ï¼Œå°±ä¸æ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚äºŽæ˜¯ï¼Œæˆ‘ä»¬è€ƒè™‘åœ¨æŸå¤±å‡½æ•°å†…æ·»åŠ ä¸€é¡¹æ¥æ»¡è¶³å°½å¯èƒ½å°†ç‰¹å¾å‚æ•°çš„å€¼ç¼©å°ã€‚ y=b+\sum{w_ix_i}L_w(x)=\frac{1}{2n}\sum_{i=0}^{n}{\left(\hat{y_i}-(b+\sum{w_ix_i})\right)^2}+\frac{\lambda}{2n}\sum_{i=1}^{n}{(w_i)^2}å…¶ä¸­$\lambda\sum{(w_i)^2}$ç§°ä¸ºæ­£åˆ™åŒ–é¡¹ï¼Œ$\lambda$ç§°ä¸ºæ­£åˆ™åŒ–å‚æ•°ã€‚æ­£åˆ™åŒ–å‚æ•°çš„é€‰æ‹©ä¹Ÿè¦æ°å½“ï¼Œè¿‡å¤§ä¼šå¯¼è‡´æ¬ æ‹Ÿåˆï¼Œè¿‡å°ä»ä¼šå‡ºçŽ°è¿‡æ‹ŸåˆçŽ°è±¡ï¼Œå…·ä½“å€¼è¦æ ¹æ®å®žéªŒç»“æžœç¡®å®šã€‚ å¯¹äºŽæ­£è§„æ–¹ç¨‹ï¼Œå…¶æ­£åˆ™åŒ–æ–¹æ³•ä¸ºï¼š w=(X^TX+\lambda\begin{pmatrix} 0 \\ & 1\\ & & 1\\ & & & \ddots\\ & & & & 1\\ \end{pmatrix})^{-1}X^Tyåœ¨$\lambda&gt;0$çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¿è¯æ‹¬å·å†…çš„çŸ©é˜µä¸€å®šæ˜¯å¯é€†çš„ã€‚ æ¨¡åž‹é€‰å–ç”±äºŽbiaså’Œvarienceä¸¤ç§è¯¯å·®æ˜¯æ­¤æ¶ˆå½¼é•¿çš„å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬è¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ¨¡åž‹å¹³è¡¡è¿™ä¸¤ç§è¯¯å·®ä¹‹å’Œã€‚é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¿™ä¸ªåˆé€‚çš„æ¨¡åž‹å‘¢ï¼Ÿæˆ‘ä»¬é€šå¸¸é‡‡ç”¨äº¤å‰éªŒè¯ï¼ˆcross_validationï¼‰çš„æ–¹æ³•ã€‚ äº¤å‰éªŒè¯çš„å…·ä½“åšæ³•ä¸ºï¼š å°†è®­ç»ƒé›†å†åˆ†ä¸ºå­è®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼› ç”¨å­è®­ç»ƒé›†è®­ç»ƒæ¨¡åž‹ï¼ŒéªŒè¯é›†æ¥æµ‹è¯•æ¨¡åž‹ï¼› é€‰å–æµ‹è¯•ç»“æžœæœ€å¥½çš„æ¨¡åž‹ï¼Œç”¨åŽŸè®­ç»ƒé›†é‡æ–°è®­ç»ƒï¼› å°†è®­ç»ƒç»“æžœåº”ç”¨äºŽæµ‹è¯•é›†ã€‚ 12345import mathx_train_set = x[: math.floor(len(x) * 0.8), :]y_train_set = y[: math.floor(len(y) * 0.8), :]x_validation = x[math.floor(len(x) * 0.8): , :]y_validation = y[math.floor(len(y) * 0.8): , :] å‚è€ƒèµ„æ–™ æŽå®æ¯…æœºå™¨å­¦ä¹ è¯¾ç¨‹ æ–¯å¦ç¦æœºå™¨å­¦ä¹ ç¬”è®° æ¢¯åº¦ä¸‹é™ç®—æ³• å¸¸ç”¨çš„5ä¸ªå›žå½’æŸå¤±å‡½æ•° æœºå™¨å­¦ä¹ ä¹‹æ­£åˆ™åŒ– ã€Šæ·±åº¦å­¦ä¹ ã€‹]]></content>
      <tags>
        <tag>Python</tag>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonè°ƒç”¨é£žä¹¦APIæŽ¥å£]]></title>
    <url>%2F2020%2F03%2F21%2FPython%E8%B0%83%E7%94%A8%E9%A3%9E%E4%B9%A6API%E6%8E%A5%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[å†™åœ¨æœ€å‰ é£žä¹¦ä½œä¸ºä¸€æ¬¾é«˜æ•ˆè¿œç¨‹åŠžå…¬è½¯ä»¶ï¼Œåœ¨ç–«æƒ…æœŸé—´å‡­å€Ÿç€äººæ€§åŒ–çš„UIäº¤äº’ä»¥åŠç¨³å®šçš„è¿œç¨‹è”ç»œèƒ½åŠ›æ·±å¾—å„å¤§ä¼ä¸šçš„åå¥½ã€‚ä½†åœ¨åˆ›å»ºå›¢é˜Ÿä¹‹åˆï¼Œéš¾å…é‡åˆ°éœ€è¦æ‰¹é‡å¯¼å…¥æ•°æ®æˆ–è€…æ‰¹é‡å¤„ç†å‘˜å·¥ä¿¡æ¯çš„æƒ…å†µï¼Œé£žä¹¦ä¸ºæ­¤æä¾›äº†å„ç§APIæŽ¥å£ä»¥ä¾¿é›†ä¸­å¤„ç†è¿™äº›æƒ…å†µï¼Œæ­¤æ–‡çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†è®©å„ä½å›¢é˜Ÿç®¡ç†è€…èƒ½è‡ªå¦‚ä½¿ç”¨è¿™äº›APIæŽ¥å£ã€‚ Pythonè°ƒç”¨APIæŽ¥å£ åœ¨äº†è§£é£žä¹¦APIæŽ¥å£å‰ï¼Œæˆ‘ä»¬å…ˆç†Ÿæ‚‰å¦‚ä½•ç”¨pythonå‘é€å’ŒæŽ¥å—è¯·æ±‚ï¼Œè¿™é‡Œæˆ‘æ˜¯ç”¨çš„æ˜¯requestsæ¨¡å—ã€‚ POSTè¯·æ±‚æ–¹å¼å…·ä½“è¯·æ±‚åœ°å€ã€Headerã€Bodyä¼šåœ¨æŽ¥å£å£°æ˜Žä¸­æåŠï¼Œæ‰§è¡Œrequest.post()åŽä¼šæŽ¥æ”¶è¿”å›žBodyã€‚12345678910# è¯·æ±‚åœ°å€url = "https://open.feishu.cn/open-apis/auth/v3/tenant_access_token/internal/"# è¯·æ±‚Headerï¼ˆå­—å…¸å½¢å¼å‚¨å­˜ï¼‰header = &#123;"content-type":"application/json", "Authorization":"Bearer " + str(tat)&#125;# è¯·æ±‚Bodyï¼ˆå­—å…¸å½¢å¼å‚¨å­˜ï¼‰post_data = &#123;"app_id":"xxx", "app_secret":"xxx"&#125;# å‘é€POSTè¯·æ±‚r = requests.post(url, data=post_data, headers=header) GETè¯·æ±‚æ–¹å¼ä¸ŽPOSTè¯·æ±‚æ–¹å¼å¤§è‡´ç›¸åŒï¼Œå…·ä½“å‚æ•°å†…å®¹å‚è§æŽ¥å£å£°æ˜Žã€‚1234567# è¯·æ±‚Headerï¼ˆå­—å…¸å½¢å¼å‚¨å­˜ï¼‰header = &#123;"content-type":"application/json", "Authorization":"Bearer " + str(tat)&#125;# è¯·æ±‚åœ°å€url = "https://open.feishu.cn/open-apis/contact/v1/tenant/custom_attr/get"# å‘é€GETè¯·æ±‚r = requests.get(url, headers = header) è§£æžjsonä¸ºä¾¿äºŽå¯¹è¿”å›žBodyè¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬é€šå¸¸å°†è¿”å›žä¿¡æ¯ä»¥jsonå½¢å¼å±•ç¤ºï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š1r.json() é£žä¹¦APIæŽ¥å£è°ƒç”¨å‡†å¤‡ è¿™ä¸€éƒ¨åˆ†å»ºè®®å¤§å®¶æŸ¥é˜…é£žä¹¦APIå®˜æ–¹æ–‡æ¡£ï¼Œä»¥ä¸‹ä¸¤é¡¹ä¸ºè¡¥å……æ–‡æ¡£ä¸­æœªè¯¦ç»†æåŠçš„éƒ¨åˆ† èŽ·å–æŽˆæƒå‡­è¯åœ¨ä½¿ç”¨APIä¹‹å‰æˆ‘ä»¬è¦å…ˆèŽ·å¾—ä¸‰ç§æŽˆæƒå‡­è¯ï¼Œåˆ†åˆ«æ˜¯ï¼š app_access_token ï¼šè®¿é—®Appèµ„æºç›¸å…³æŽ¥å£ã€‚ tenant_access_token ï¼šè®¿é—®ä¼ä¸šèµ„æºç›¸å…³æŽ¥å£ã€‚ user_access_token ï¼šè®¿é—®ç”¨æˆ·èµ„æºç›¸å…³æŽ¥å£ã€‚ æˆ‘ä»¬è¿™é‡Œåªä»‹ç»åœ¨ä¼ä¸šç®¡ç†ä¸­æœ€å¸¸ç”¨åˆ°tenant_access_tokençš„èŽ·å–æ–¹å¼ï¼š ç®¡ç†åŽå°åˆ›å»ºä¼ä¸šè‡ªå»ºåº”ç”¨ è®°å½•åº”ç”¨å‡­è¯å†…AppIDå’ŒAppSecretå¤‡ç”¨ ä»Žå·¦ä¾§ä¸‰ç§åº”ç”¨åŠŸèƒ½ä»»é€‰ä¸€ç§ æ ¹æ®åŽç»­æ“ä½œéœ€è¦é€‰æ‹©æ‰€éœ€æƒé™ï¼Œå…·ä½“æƒé™å†…å®¹å‚è§è¿™é‡Œ å‘å¸ƒåº”ç”¨ï¼ˆåº”ç”¨äºŽæ‰€æœ‰éƒ¨é—¨ï¼‰ åˆ©ç”¨RequestèŽ·å– app_access_tokenï¼ˆä¼ä¸šè‡ªå»ºåº”ç”¨ï¼‰ æ˜Žç¡®APIè°ƒç”¨é¡ºåºåœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ä»¥æ‰¹é‡å¯¼å…¥è”ç³»äººä¸ºä¾‹ï¼ˆæ–‡æœ«æœ‰pythonä»£ç ï¼‰ï¼š ç”±äºŽè¯¸å¦‚éƒ¨é—¨idä»¥åŠé€šè®¯å½•å­—æ®µidç­‰ä¿¡æ¯æ— æ³•ç›´æŽ¥èŽ·å¾—ï¼Œæˆ‘ä»¬åœ¨å¯¼å…¥è”ç³»äººå‰è¦å…ˆèŽ·å¾—è¿™äº›idä¿¡æ¯ èŽ·å–tenant_access_token èŽ·å–ä¼ä¸šè‡ªå®šä¹‰ç”¨æˆ·å±žæ€§é…ç½® èŽ·å–é€šè®¯å½•æŽˆæƒèŒƒå›´ï¼ˆæ‰€æœ‰éƒ¨é—¨idåˆ—è¡¨ï¼‰ å»ºç«‹éƒ¨é—¨idä¸ŽçœŸå®žéƒ¨é—¨çš„é”®å€¼å¯¹åº”å…³ç³» æ‰¹é‡æ–°å¢žç”¨æˆ· pandasæ¨¡å—è¯»å–excelæ•°æ® å› ä¸ºåœ¨æ‰¹é‡å¤„ç†ç”¨æˆ·ä¿¡æ¯æ—¶æˆ‘ä»¬æ‰€éœ€è¦çš„åŸºæœ¬éƒ½æ˜¯ä»Žå·²æœ‰excelä¸­è¯»å–ç›¸å…³ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œåªå¯¹pandasçš„è¯»å–åŠŸèƒ½åšç®€è¦ä»‹ç»ã€‚ import pandas as pd å¯¼å…¥pandasæ¨¡å— data = pd.read_csv( file, sep, encoding, nrows, skiprows) data = pd.read_excel( file, sep, encoding, nrows, skiprows) fileä¸ºå¯¼å…¥æ–‡ä»¶ç›®å½•ï¼Œsepä¸ºæ•°æ®åˆ†éš”ç¬¦ï¼Œnrowsä¸ºè¯»å–å‰nè¡Œï¼Œskiprowsä¸ºè·³è¿‡æŸå‡ è¡Œ pd.DataFrame() åˆ›å»ºä¸€ä¸ªDataFrameå¯¹è±¡ data.head(3)/data.tail(3) è¯»å–æ•°æ®å¤´/æœ«3è¡Œ data.iloc[] æä¾›åŸºäºŽæ•´æ•°çš„ç´¢å¼•æ–¹å¼,ç´¢å¼•åºæ•°è€Œéžæ ‡ç­¾ data.to_numpy() å°†pandasæ•°ç»„è½¬åŒ–ä¸ºnpæ•°ç»„å¤„ç†ï¼ˆå¯¹ï¼Œæœ‰ä»€ä¹ˆpandasæ•°ç»„ä¸ä¼šçš„è½¬æˆnpæ•°ç»„æ“ä½œå²‚ä¸ç¾Žæ±æ±ï¼‰ å®žä¾‹ï¼šé£žä¹¦æ‰¹é‡å¯¼å…¥è”ç³»äºº 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import jsonimport requestsimport pandas as pd# èŽ·å–tenant_access_tokenurl = "https://open.feishu.cn/open-apis/auth/v3/tenant_access_token/internal/"post_data = &#123;"app_id":"xxx", "app_secret":"xxx"&#125;r = requests.post(url, data=post_data)tat = r.json()["tenant_access_token"]# èŽ·å–é€šè®¯å½•è‡ªå®šä¹‰å­—æ®µidheader = &#123;"content-type":"application/json", "Authorization":"Bearer " + str(tat)&#125;url = "https://open.feishu.cn/open-apis/contact/v1/tenant/custom_attr/get"r = requests.get(url, headers = header)qq_id = list(r.json()["data"]["custom_attrs"].keys())[0]sn_id = list(r.json()["data"]["custom_attrs"].keys())[1]# èŽ·å–éƒ¨é—¨iddepartment = &#123;&#125;sex = &#123;"ç”·":"1", "å¥³":"2"&#125;url = "https://open.feishu.cn/open-apis/contact/v1/scope/get"r = requests.get(url, headers = header)ls = r.json()["data"]["authed_departments"]for i in range(len(ls)): url = "https://open.feishu.cn/open-apis/contact/v1/department/info/get?department_id=" + str(ls[i]) r = requests.get(url, headers = header) name = r.json()["data"]["department_info"]["name"] department[name] = ls[i]# æ‰¹é‡å¯¼å…¥è”ç³»äººä¿¡æ¯url = "https://open.feishu.cn/open-apis/contact/v1/user/add"data = pd.read_excel('class_data.xlsx')data = data.iloc[2:, :]data = data.to_numpy()for i in range(len(data)): user_data = &#123; "name":data[i][0], "department_ids":[department[data[i][4][:7]]],# "email":"zhangsan@gmail.com", "mobile":"+86"+str(data[i][5]), "mobile_visible":"true", "city":data[i][7], "country": "CN", "gender":sex[data[i][1]], "employee_type":1, "employee_id":"id_" + str(data[i][3]), "employee_no":str(data[i][3]), "need_send_notification":"true", "custom_attrs":&#123; qq_id: &#123; "value": str(data[i][6]) &#125;, sn_id: &#123; "value": str(data[i][3]) &#125; &#125; &#125; data_to_send = json.dumps(user_data).encode("utf-8") r = requests.post(url, data = data_to_send, headers = header) print(r.json())]]></content>
      <tags>
        <tag>Notes</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[seleniumå®žçŽ°è‡ªåŠ¨å¥åº·å¡«æŠ¥]]></title>
    <url>%2F2020%2F03%2F18%2Fselenium%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%81%A5%E5%BA%B7%E5%A1%AB%E6%8A%A5%2F</url>
    <content type="text"><![CDATA[seleniumæ¨¡æ‹Ÿæµè§ˆå™¨æ“ä½œ åœ¨è¿™éƒ¨åˆ†å¼€å¤´æˆ‘å…ˆè´´å‡ºäº†è‡ªåŠ¨æ‰§è¡Œå¡«å†™å¥åº·ä¿¡æ¯çš„è„šæœ¬ï¼Œå¯¹äºŽseleniumè¾ƒä¸ºè¯¦ç»†çš„è§£æžå’Œä½¿ç”¨æŒ‡å—æ”¾åœ¨äº†è¿™ä¸€éƒ¨åˆ†çš„åŽåŠæ®µ seleniumå®žæˆ˜ä¸ºä»€ä¹ˆçªç„¶æƒ³åˆ°å­¦ä¹ ä¸€æ³¢seleniumçš„ç”¨æ³•å‘¢ï¼Ÿä¸€æ–¹é¢æ˜¯åœ¨çˆ¬è™«å­¦ä¹ ä¸­å¬è¯´è¿‡æœ‰è¿™ä¹ˆä¸€æ¬¾åŠŸèƒ½æžå¼ºçš„æµè§ˆå™¨æ“ä½œæ¨¡å—ï¼Œå¦ä¸€æ–¹é¢æ­£èµ¶ä¸Šç–«æƒ…çˆ†å‘å¤§å®¶æ¯å¤©éƒ½è¦å¡«æŠ¥ä¸ªäººå¥åº·æƒ…å†µï¼Œå¯¹äºŽå¤§å¤šæ•°åŒå­¦åŸºæœ¬éƒ½èƒ½ä¿æŒå¥åº·ï¼Œæ¯æ—¥å¡«å†™ä¿¡æ¯ä¹Ÿéƒ½å¤§åŒå°å¼‚ï¼Œé‚£ä¸ºä»€ä¹ˆä¸è®©ç”µè„‘æ¯å¤©è‡ªåŠ¨å¸®æˆ‘ä»¬ä¸ŠæŠ¥å‘¢ï¼Ÿè¿™æ ·ä¹Ÿèƒ½é¿å…é”™è¿‡å½“å¤©çš„å¡«æŠ¥æ—¶é—´ã€‚ 1234567891011121314151617181920212223242526272829from selenium import webdriverimport timefrom selenium.webdriver.chrome.options import Optionschrome_options = Options()chrome_options.add_argument("--headless")driver = webdriver.Chrome(executable_path="/usr/local/bin/chromedriver",options=chrome_options)driver.implicitly_wait(5)url = "http://xgsys.swjtu.edu.cn/SPCP/Web/UserLogin.aspx"driver.get(url)value = &#123; "StudentId": "è¿™å„¿å†™å­¦å·", "Name": "è¿™å„¿å†™åå­—", "StuCard": "è¿™å„¿å†™èº«ä»½è¯å·åŽå…­ä½", "codeInput": driver.find_element_by_id('code-box').text&#125;for key in value.keys(): element = driver.find_element_by_id(key) element.send_keys(value[key])driver.find_element_by_id('Button4').click()if len(driver.find_elements_by_class_name('layui-layer-content')) == 0: driver.execute_script('document.documentElement.scrollTop=10000') driver.find_element_by_id('Checkbox1').click() driver.find_element_by_id('Save_Btn').click()# driver.get_screenshot_as_file("./screenshot.png")print(driver.find_element_by_class_name('layui-layer-padding').text)driver.close() å®‰è£…seleniumé¦–å…ˆå’Œå®‰è£…å…¶ä»–pythonæ¨¡å—ä¸€æ ·ï¼Œä½¿ç”¨pipæ¥å®‰è£…seleniumåº“1pip3 install selenium å› ä¸ºseleniumè¦æŽ§åˆ¶æµè§ˆå™¨è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸‹è½½æµè§ˆå™¨çš„é©±åŠ¨ä»¥è§£æžpythonå‘é€ç»™å®ƒçš„æŒ‡ä»¤ï¼Œæ ¹æ®æµè§ˆå™¨çš„ç±»åž‹åŠç‰ˆæœ¬é€‰æ‹©ä¸åŒé©±åŠ¨è¿›è¡Œä¸‹è½½ å››å¤§ä¸»æµæµè§ˆå™¨ä¸‹è½½åœ°å€ï¼šChromeã€Safariã€Edgeã€Firefox å¯¹äºŽMacOSå’ŒLinuxç”¨æˆ· (ä»¥chromeä¸ºä¾‹) ï¼š å°†ä¸‹è½½å¥½çš„æ–‡ä»¶æ”¾å…¥ç›®å½•/usr/local/binæˆ–/usr/binä¸­ 1sudo cp å½“å‰chromedriverä½ç½® /usr/local/bin å°†é©±åŠ¨èµ‹äºˆæ‰§è¡Œæƒé™ 1sudo chmod +x /usr/local/bin/chromedriver seleniumå¸¸ç”¨å‡½æ•° ä¸å¼¹å‡ºæµè§ˆå™¨çª—å£å¹¶æ‰§è¡ŒåŽç»­æ“ä½œ 1234from selenium.webdriver.chrome.options import Optionschrome_options = Options()chrome_options.add_argument("--headless")driver = webdriver.Chrome(options=chrome_options) webdriver.Chrome(&lt;executable_path&gt;?,&lt;options&gt;?)æ¿€æ´»ç½‘é¡µé©±åŠ¨å™¨ï¼Œexecutable_pathç”¨äºŽä¼ å…¥ç½‘é¡µé©±åŠ¨ç¨‹åºä½ç½®ï¼Œoptionsç”¨äºŽä¼ å…¥åŽç»­ä¸å¼¹å‡ºæµè§ˆå™¨çš„ä¸ªæ€§åŒ–è®¾ç½® &lt;webdriver&gt;.get(url)é€šè¿‡é“¾æŽ¥è®¿é—®ç½‘ç«™ &lt;webdriver&gt;.find_element_by_id(&#39;key&#39;)é€šè¿‡idæ£€ç´¢å…ƒç´  &lt;webdriver&gt;.find_element_by_class_name(&#39;key&#39;)é€šè¿‡classæ£€ç´¢å…ƒç´ ï¼Œè¿”å›žç¬¬ä¸€ä¸ªç¬¦åˆå…ƒç´  &lt;webdriver&gt;.find_elements_by_class_name(&#39;key&#39;)é€šè¿‡classæ£€ç´¢å…ƒç´ ï¼Œè¿”å›žåˆ—è¡¨ï¼ˆå…¶ä½™é€‰æ‹©å…ƒç´ æ–¹æ³•ä¸­elementsä½œç”¨ä¹Ÿç›¸åŒï¼‰ &lt;webdriver&gt;.find_element_by_tag_name(&#39;key&#39;)é€šè¿‡tagæ£€ç´¢å…ƒç´ ï¼Œè¿”å›žç¬¬ä¸€ä¸ªç¬¦åˆå…ƒç´  &lt;webdriver&gt;.implicitly_wait(10)æœ€å¤§ç­‰å¾…æ—¶é—´ &lt;webdriver&gt;.page_sourceè¿”å›žå½“å‰ç½‘é¡µHTMLå†…å®¹ &lt;webdriver&gt;.get_screenshot_as_file(&#39;file_path&#39;)å°†å½“å‰ç½‘é¡µæˆªå›¾å¹¶ä¿å­˜ &lt;driver_element&gt;.click()ç‚¹å‡»è¯¥é€‰ä¸­å…ƒç´  &lt;driver_element&gt;.clear()æ¸…é™¤è¾“å…¥æ¡†å·²æœ‰çš„å­—ç¬¦ä¸² &lt;driver_element&gt;.send_keys(&#39;input&#39;)åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ•°æ® &lt;driver_element&gt;.text è¿”å›žå…ƒç´ æ–‡æœ¬å†…å®¹ crontabå®šæ—¶æ‰§è¡Œè„šæœ¬ crontabå¸¸ç”¨æŒ‡ä»¤ åœ¨ç¼–è¾‘ä»»åŠ¡æ—¶å¯èƒ½éœ€è¦ä½¿ç”¨Vimä¿®æ”¹ï¼Œè¿™é‡Œæœ‰å…³äºŽVimçš„æ•™ç¨‹ ç¼–è¾‘å½“å‰ç”¨æˆ·crontabä»»åŠ¡ crontab -e æŸ¥çœ‹å½“å‰ç”¨æˆ·æ‰€æœ‰crontab åˆ—è¡¨ crontab -l åˆ é™¤å½“å‰ç”¨æˆ·æ‰€æœ‰crontab åˆ—è¡¨ crontab -r crontabå‘½ä»¤æ ¼å¼crontabå‘½ä»¤ç”±å…­éƒ¨åˆ†æž„æˆ: M H D m d command M: åˆ†ï¼ˆ0-59ï¼‰H: æ—¶ï¼ˆ0-23ï¼‰D: å¤©ï¼ˆ1-31ï¼‰m: æœˆï¼ˆ1-12ï¼‰d: å‘¨ï¼ˆ0-6ï¼‰ï¼Œ0ä¸ºæ˜ŸæœŸæ—¥command: æ“ä½œæŒ‡ä»¤ *: å–å€¼èŒƒå›´å†…çš„æ‰€æœ‰æ•°å­—/: ä»£è¡¨â€æ¯â€ï¼Œå¦‚/3è¡¨ç¤ºæ¯3ä¸ª-: ä»£è¡¨ä»ŽæŸä¸ªæ•°å­—åˆ°æŸä¸ªæ•°å­—,: ä»£è¡¨ç¦»æ•£çš„å–å€¼(å–å€¼çš„åˆ—è¡¨) ä¸‹é¢æˆ‘ä»¬ä¸¾ä¸€äº›å¸¸è§çš„ä¾‹å­ï¼š * * * * * date&gt;&gt;cron.log æ¯åˆ†é’Ÿæ‰§è¡Œå°†å½“å‰è®¡ç®—æœºæ—¶é—´è¾“å…¥cron.log * */3 * * * date&gt;&gt;cron.log æ¯ä¸‰å°æ—¶æ‰§è¡Œ 00 12 10-15 * * date&gt;&gt;cron.log æ¯æœˆ10-15å·12:00æ‰§è¡Œ * * * * 6,0 date&gt;&gt;cron.log æ¯å‘¨å…­æ—¥æ‰§è¡Œ crontabå¸¸è§é—®é¢˜ è§£å†³macosä¸‹crontabä¸æ‰§è¡Œçš„é—®é¢˜ï¼š 12345678910# æ£€æŸ¥launchctlä¸­æœ‰æ²¡æœ‰cronä»»åŠ¡ï¼šsudo launchctl list | grep cron # æŸ¥çœ‹å¯åŠ¨é¡¹é…ç½®ï¼šlocate com.vix.cron# åˆ›å»ºdatabaseï¼ˆå¦‚æžœæç¤ºwarningçš„è¯ï¼‰ï¼šsudo launchctl load -w /System/Library/LaunchDaemons/com.apple.locate.plist# æŸ¥çœ‹ /etc/crontab æ˜¯å¦å­˜åœ¨ll /etc/crontab# å¦‚æžœæ²¡æœ‰åˆ™ä¸€å®šè¦åˆ›å»º /etc/crontabsudo touch /etc/crontab crontabä¸­pythonçš„æ‰§è¡Œè·¯å¾„ä¸º/usr/bin/python3ï¼Œå¯ä»¥ç”¨æŒ‡ä»¤å®‰è£…æ¨¡å—ï¼š/usr/bin/pip3 install selenium --user ä½¿ç”¨which python3æŸ¥çœ‹ç»ˆç«¯å†…ä½¿ç”¨çš„pythonè·¯å¾„ å¦‚æžœåœ¨åŒä¸€ä»»åŠ¡ä¸­æ‰§è¡Œå¤šæ¡æŒ‡ä»¤ï¼ŒæŒ‡ä»¤é—´å¯ä»¥ç”¨;éš”å¼€ å¦‚æžœéœ€è¦æŸ¥çœ‹ä»»åŠ¡æŠ¥é”™ä¿¡æ¯ï¼Œéœ€è¦åœ¨è¾“å‡ºæ–‡ä»¶åŽåŠ &gt;2&amp;1 å‚è€ƒèµ„æ–™ èŽ«çƒ¦PYTHON-é«˜çº§çˆ¬è™« ç™½æœˆé»‘ç¾½æ•™Python-è‡ªåŠ¨åŒ–å’Œæ€§èƒ½æµ‹è¯• crontab åœ¨macä¸Šä¸æ‰§è¡Œé—®é¢˜ç ”ç©¶ Macä¸‹å®šæ—¶æ‰§è¡Œpythonè„šæœ¬&amp;shè„šæœ¬]]></content>
      <tags>
        <tag>Notes</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DigitalOceançš„ä½¿ç”¨]]></title>
    <url>%2F2019%2F04%2F09%2FDigitalOcean%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºDroplets é…ç½®é€‰æ‹© image é€‰æ‹©Ubuntuç³»ç»ŸSize é€‰ç¬¬ä¸€ä¸ª5$/mon èŠ‚ç‚¹é€‰æ‹©è”é€šç”¨æˆ·æŽ¨èé€‰æ‹©SanFrancisco-01 é€šè¿‡pingæ¥æ£€æµ‹ä¸¢åŒ…çŽ‡å’Œå»¶è¿Ÿï¼Œ200msä¸€ä¸‹å°±å¾ˆä¼˜ç§€ é€šè¿‡speedtestæ¥æµ‹å•çº¿ç¨‹è¿žæŽ¥é€ŸçŽ‡ï¼Œèƒ½å¦æŠŠå¸¦å®½è·‘æ»¡ æŸ¥çœ‹æœåŠ¡å™¨ä¿¡æ¯ è¿›å…¥æ‚¨çš„é‚®ç®±ï¼Œæ­¤æ—¶æ‚¨ä¼šæ”¶åˆ°ä¸€å°åŒ…å«æœåŠ¡å™¨è¯¦ç»†ç™»é™†ä¿¡æ¯çš„é‚®ä»¶ ç™»é™†æœåŠ¡å™¨ åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š 1ssh Username @ IP Address å®‰è£…æœ€æ–°å†…æ ¸ 1wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh &amp;&amp; chmod +x bbr.sh &amp;&amp; ./bbr.sh å®‰è£…è„šæœ¬åŠ å¯†ç±»åž‹é€‰æ‹©:14ï¼‰chacha20-ietf-poly1305 123wget --no-check-certificate -O shadowsocks-libev-debian.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.shchmod +x shadowsocks-libev-debian.sh./shadowsocks-libev-debian.sh 2&gt;&amp;1 | tee shadowsocks-libev-debian.log ç¨ç­‰ç‰‡åˆ»ï¼Œå®Œæˆï¼ è¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ç§‹æ°´é€¸å†°çš„åšæ–‡! å¯¼å…¥Shadowsocks åœ¨æœåŠ¡å™¨è®¾ç½®ä¸­è¾“å…¥æœåŠ¡å™¨çš„åœ°å€ã€èŠ‚ç‚¹ã€åŠ å¯†æ–¹æ³•ã€å¯†ç å³å¯ âš ï¸æ³¨æ„:å°†æŒ‡å®šç½‘ç«™åŠ å…¥PACè§„åˆ™ä¸­ï¼š|| www.example.com ^ ç¦åˆ©é¸­ å®Œæˆåœ¨è¯»å¤§å­¦ç”Ÿè®¤è¯å¯ä»¥åœ¨GitHubå­¦ç”Ÿç¤¼åŒ…ä¸­å…è´¹é¢†å–$50çš„DigitalOceanæŠµç”¨åˆ¸å—·ï¼]]></content>
      <tags>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿå‚…ç«‹å¶å˜æ¢(FFT)]]></title>
    <url>%2F2019%2F04%2F08%2F%E5%BF%AB%E9%80%9F%E5%82%85%E7%AB%8B%E5%8F%B6%E5%8F%98%E6%8D%A2-FFT%2F</url>
    <content type="text"><![CDATA[ä¾‹é¢˜UOJ#34. å¤šé¡¹å¼ä¹˜æ³•é¢˜é¢ é¢˜ç›®æè¿°ç»™ä½ ä¸¤ä¸ªå¤šé¡¹å¼ï¼Œè¯·è¾“å‡ºä¹˜èµ·æ¥åŽçš„å¤šé¡¹å¼ã€‚è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªå¤šé¡¹å¼çš„æ¬¡æ•°ã€‚ç¬¬äºŒè¡Œ n+1 ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€ä¸ªå¤šé¡¹å¼çš„ 0 åˆ° n æ¬¡é¡¹å‰çš„ç³»æ•°ã€‚ç¬¬ä¸‰è¡Œ m+1 ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€ä¸ªå¤šé¡¹å¼çš„ 0 åˆ° m æ¬¡é¡¹å‰çš„ç³»æ•°ã€‚è¾“å‡ºæ ¼å¼ä¸€è¡Œ n+m+1 ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºä¹˜èµ·æ¥åŽçš„å¤šé¡¹å¼çš„ 0 åˆ° n+m æ¬¡é¡¹å‰çš„ç³»æ•°ã€‚æ ·ä¾‹input:1 21 21 2 1output:1 4 5 2explanation:$(1+2x)â‹…(1+2x+x^2)=1+4x+5x^2+2x^3$é™åˆ¶ä¸Žçº¦å®š0â‰¤n , mâ‰¤$10^5$ ç®€è¦è§£æž é¦–å…ˆè¿™é“æ¶‰åŠå¤šé¡¹å¼ä¹˜æ³•,æ±‚ç›¸ä¹˜åŽæ–°å¤šé¡¹å¼çš„ç³»æ•°,å¯ç®€è®°ä¸º: C(x)=A(x)*B(x)=\sum_{j=0}^{2*n-2} (\sum_{k=0}^ja_k*b_{k-j})x^j æ­£å¸¸ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¾ˆå®¹æ˜“å¾—åˆ°,å³O($n^2$),æ˜¾ç„¶æ— æ³•å†è§„å®šæ—¶é—´å†…å¾—åˆ°æ­£ç¡®è§£,æ€Žä¹ˆåŠžå‘¢?è¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ç§å¯åœ¨O($nlgn$)å¤æ‚åº¦ä¸‹å¿«é€Ÿæ±‚å‡ºè¯¥ç­”æ¡ˆçš„æ–¹æ³•,å³FFT.å¸Œæœ›è¯»è€…åœ¨é˜…è¯»æ­¤æ–‡åŽå¯è‡ªè¡Œç¼–å†™! å¤šé¡¹å¼å¤šé¡¹å¼çš„è¡¨ç¤º ç³»æ•°è¡¨è¾¾ ç³»æ•°è¡¨è¾¾æ˜¯æˆ‘ä»¬å¹³æ—¶æœ€å¸¸è§çš„è¡¨ç¤ºå¤šé¡¹å¼çš„æ–¹æ³•,å¯¹ä»»æ„ä¸€ä¸ªå¤šé¡¹å¼$A(x)=\sum{i=0}^{n-1}a_ix^i$,å…¶ç³»æ•°è¡¨ç¤ºä¸º$$A(x)=(a_0,a_1,\dots,a{n-1})ç³»æ•°è¡¨è¾¾çš„ä¼˜åŠ¿æ˜¯å®ƒå¾ˆå®¹æ˜“æ±‚å‡ºè¯¥å¤šé¡¹å¼åœ¨ç‚¹$x_0$å¤„çš„å€¼$A(x_0)$,å³åˆ©ç”¨[éœçº³æ³•åˆ™][2](ä¹Ÿç§°ç§¦ä¹éŸ¶ç®—æ³•): A(x0)=a_0+x_0(a_1+x_0(a_2+\dots+x_0(a{n-2}+x0a{n-1})\dots)) $$ ç‚¹å€¼è¡¨è¾¾ æ‰€è°“ç‚¹å€¼è¡¨è¾¾å°±æ˜¯å°†ä¸€ä¸ªæ¬¡æ•°ç•Œä¸ºnçš„å¤šé¡¹å¼ç”¨ nä¸ªç‚¹å€¼å¯¹ çš„é›†åˆæ¥è¡¨ç¤º,å³: A(x)=\{ (x_0,y_0),(x_1,y_1),(x_2,y_2)\dots(x_{n-1},y_{n-1}) \} éœ€è¦æ³¨æ„çš„æ˜¯,ä¸€å®šéœ€è¦nä¸ªç‚¹å€¼å¯¹æ¥è¡¨ç¤º,å› ä¸ºåªæœ‰ç‚¹å€¼å¯¹æ•°ç­‰äºŽå¤šé¡¹å¼çš„æ¬¡æ•°ç•Œæ—¶,å…¶æ’å€¼(ç”±ç‚¹å€¼è¡¨è¾¾ç¡®å®šè¯¥å¤šé¡¹å¼çš„ç³»æ•°è¡¨è¾¾,åŽè¾¹ä¼šè®²åˆ°)æ‰æ˜Žç¡®,è¿™ä¸ªç»“è®ºå¯ä»¥ç”±æ’å€¼å¤šé¡¹å¼çš„å”¯ä¸€æ€§è¯æ˜Ž: \begin{vmatrix}\\ 1 & x_0 & x_0^2 & \cdots & x_0^{n-1}\\ 1 & x_1 & x_1^2 & \cdots & x_1^{n-1}\\ \vdots & \vdots & \vdots & &\vdots\\ 1 & x_{n-1} & x_{n-1}^2 & \cdots & x_{n-1}^{n-1}\\ \end{vmatrix} \begin{vmatrix}\\ a_0\\ a_1\\ a_2\\ \vdots\\ a_{n-1}\\ \end{vmatrix}= \begin{vmatrix}\\ y_0\\ y_1\\ y_2\\ \vdots\\ y_{n-1}\\ \end{vmatrix}å…ˆå°†å¤šé¡¹å¼è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼,å…¶ä¸­ç¬¬ä¸€é¡¹ä¸ºèŒƒå¾·è’™å¾·è¡Œåˆ—å¼,è®°ä¸º$V(x0,x_1,x_2,\dots,x{n-1})$,å…¶å€¼ä¸º $\prod{0\le j&lt;k\le n-1}(x_k-x_j)$ ,æ˜¾ç„¶å½“ä»»æ„ä¸¤ä¸ªxå€¼ä¸åŒæ—¶è¯¥å€¼ä¸ä¸º0,æ•…è¯¥çŸ©é˜µå¯é€†,è¿›è€Œå¯ä»¥æ±‚å¾—$a=V(x_0,x_1,x_2,\dots,x{n-1})^{-1}y$ , æ•…å…¶å”¯ä¸€æ€§å¾—è¯! ç‚¹å€¼è¡¨ç¤ºæœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢?æˆ‘ä»¬å¯ä»¥åœ¨O(n)çš„æ—¶é—´å†…æ±‚å‡ºä¸¤å¤šé¡¹å¼çš„ä¹˜ç§¯!å¦‚æžœæˆ‘ä»¬æœ‰ä¸€ç§å¾ˆå¿«çš„ç®—æ³•å¯ä»¥å°†ç³»æ•°è¡¨è¾¾å¼è½¬åŒ–ä¸ºç‚¹å€¼è¡¨è¾¾å¼,é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºä¸¤å¤šé¡¹å¼çš„ä¹˜ç§¯.ä¸ºäº†å¿«é€Ÿå®žçŽ°ä¸¤ç§è¡¨è¾¾æ–¹å¼çš„å¿«é€Ÿè½¬åŒ–,æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ¦‚å¿µ, å• ä½ å¤ æ•° æ ¹ ! å•ä½å¤æ•°æ ¹å®šä¹‰æ»¡è¶³$w^n=1$çš„å¤æ•°$w$,å…¶å•ä½å¤æ•°æ ¹æ°å¥½æœ‰nä¸ª,åˆ†åˆ«ä¸º$e^{2\pi ik/n},k={0,1,2,\dots,n-1}$,ç”±å¤æ•°çš„æŒ‡æ•°å½¢å¼å®šä¹‰$e^{iu}=cos(u)+isin(u)$å¯å°†å…¶è½¬åŒ–ä¸º $y_k=cos(2 \pi k/n)+isin(2\pi k/n)$ åŸºæœ¬æ€§è´¨ æ¶ˆåŽ»å¼•ç†W_{dn}^{dk}=(e^{2\pi i/{dn}})^{kn}=(e^{2\pi i/{d}})^{k}=W_n^k(n\ge 0 , k\ge 0 , d>0) æŠ˜åŠå¼•ç† è‹¥n&gt;0ä¸”ä¸ºå¶æ•°,é‚£ä¹ˆnä¸ªnæ¬¡å•ä½å¤æ•°æ ¹çš„å¹³æ–¹çš„é›†åˆå°±æ˜¯$n/2$ä¸ª$n/2$æ¬¡å•ä½å¤æ•°æ ¹çš„é›†åˆ(æ¯ä¸ªå…ƒç´ å‡ºçŽ°ä¸¤æ¬¡)(W_n^{k+n/2})^2=W_n^{2k+n}=W_n^{2k}\cdot W_n^n=(W_n^k)^2=W_{n/2}^k æ±‚å’Œå¼•ç†\sum_{j=0}^{n-1}(W_n^k)^j=\frac{(W_n^k)^n-1}{W_n^k-1}=\frac{(W_n^n)^k-1}{W_n^k-1}=0 DFTç¦»æ•£å‚…é‡Œå¶å˜æ¢è¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ˜¯åˆ©ç”¨äº†å·ç§¯å®šç†a\times b=DFT^{-1}_{2n}(DFT_{2n}(a)\cdot DFT_{2n}(b)) æœ¬æ–‡æœ€å¼€å§‹çš„ä¾‹é¢˜UOJ#34,ç›®æ ‡å¤šé¡¹å¼çš„ç³»æ•°$ck=\sum{k=0}^jak*b{k-j}$,ç†Ÿæ‚‰çš„äººå¯èƒ½éƒ½çŸ¥é“è¿™å®žé™…ä¸Šå°±æ˜¯a,bçš„å·ç§¯,èƒ½ç”¨å‚…é‡Œå¶å˜æ¢æ±‚è§£çš„é¢˜ç›®ä¸€èˆ¬éƒ½å¯ä»¥è¢«è½¬åŒ–æˆç±»ä¼¼è¿™æ ·çš„å·ç§¯çš„å½¢å¼,å¤§å®¶ä¸€å®šè¦å¯¹è¿™ä¸ªå¼å­è¶³å¤Ÿç†Ÿæ‚‰!!! y_k=A(W_n^k)=\sum_{j=0}^{n-1}a_j\cdot W_n^{kj}=\sum_{j=0}^{n-1}a_j\cdot e^{\frac{2\pi i}{n}jk}è¯¥ç®—æ³•çš„å¤æ‚åº¦æ˜¯O($n^2$)çš„,æœ‰æ²¡æœ‰é€‚å½“å˜æ¢ä½¿å…¶ç»“åˆä¸€äº›å¤æ•°æ ¹çš„æ€§è´¨åŠ é€Ÿæ­¤è¿‡ç¨‹?ç­”æ¡ˆæ˜¯è‚¯å®šçš„! FFTå¿«é€Ÿå‚…é‡Œå¶å˜æ¢é€’å½’åˆ©ç”¨åˆ†æ²»çš„æ€æƒ³å°†$A(x)=a0+a_1x+a_2x^2+\dots+a{n-1}x^{n-1}$åˆ†ä¸ºä¸‹æ ‡ä¸ºå¥‡æ•°å’Œå¶æ•°çš„ä¸¤éƒ¨åˆ†: A^{[0]}(x)=a_0+a_2x+a_4x^2+\dots+a_{n-2}x^{\frac{n}{2}-1}A^{[1]}(x)=a_1+a_3x+a_5x^2+\dots+a_{n-1}x^{\frac{n}{2}-1}A(x)=A^{[0]}(x^2)+x*A^{[1]}(x^2)è¿™æ ·çš„è¯é—®é¢˜å°±å¯ä»¥è½¬åŒ–æ±‚åœ¨$(W_n^0)^2,(W_n^1)^2,\dots,(W_n^{n-1})^2$ä¸ŠA(x)å€¼,åˆæ ¹æ®æŠ˜åŠå¼•ç†,åªéœ€è®¡ç®—æ¬¡æ•°ç•Œä¸ºn/2çš„å€¼å³å¯,è¿™æ ·ä¸€ç›´é€’å½’ä¸‹åŽ»,å³å¯åœ¨O($nlgn$)å¤æ‚åº¦å†…è®¡ç®—å‡ºç»“æžœ,é™„ä¸Šä¼ªä»£ç :123456789101112131415FFT(a): n=a.length() if n==1: return a w_n=e^(pi*i/n)=complex(cos(2*pi/n),sin(2*pi/n)) w=1 a(0)=[a0,a2,...a_n-2] a(1)=[a1,a3,...a_n-1] y(0)=FFT(a(0)) y(1)=FFT(a(1)) for k in range(0,n/2): y_k=y_k(0)+w*y_k(1) //w*y_k(1)ä¸ºå…¬ç”¨å­è¡¨è¾¾å¼ y_k+n/2=y_k(0)-w*y_k(1) w=w*w_n //wä¸ºæ—‹è½¬å› å­ return y ä½†é€’å½’çš„å¸¸æ•°æ˜¯å¾ˆå¤§çš„,æˆ‘ä»¬æ˜¯å¦å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–å¸¸æ•°å‘¢?åªè¦å°†é€’å½’è¿‡ç¨‹æ”¹ä¸ºè¿­ä»£çš„è¿‡ç¨‹å°±å¥½äº†! è¿­ä»£ ä½é€†åºç½®æ¢ è§‚å¯Ÿå…¶ä¸‹æ ‡åºåˆ—ä¸º0,4,2,6,1,5,3,7 å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º000,100,010,110,001,101,011,111 è‹¥å°†æ¯ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½åè½¬,å³å¾—åˆ°000,001,010,011,100,101,110,111 æ˜¾ç„¶ä¸º0~7è¿™8ä¸ªæ•°çš„å‡åºæŽ’åˆ—,è¿™æ ·æˆ‘ä»¬å°±æ‰¾åˆ°äº†è¿ç®—é¡ºåºä¸Žä¸‹æ ‡é—´çš„å¯¹åº”å…³ç³»,è¿™ä¸ªè¿‡ç¨‹å°±å«åšä½é€†åºç½®æ¢,è¿™æ ·æˆ‘ä»¬åªè¦åœ¨è®¡ç®—ä¹‹å‰å°†ä¸‹æ ‡é€šè¿‡ä½é€†åºç½®æ¢çš„æ–¹å¼æ›´æ–°å³å¯æŒ‰åºè‡ªåº•å‘ä¸Šæ±‚è§£,ä»£ç å¾ˆç®€å•: 123456inline int rev(int x,int n) //xä¸ºå½“å‰å¤„ç†çš„å¾…æ”¹å˜çš„æ•°,nä¸ºäºŒè¿›åˆ¶ä½çš„æ€»é•¿åº¦(æŒ‰ä¸Šä¾‹åˆ™n=3)&#123; int x0=0; while(n--) x0=(x0+(x&amp;1))&lt;&lt;1,x&gt;&gt;=1; return x0&gt;&gt;1;&#125; è´è¶æ“ä½œ y_k=A(W_n^k)=y^{[0]}_k+W_n^k\cdot y_k^{[1]}y_{k+\frac{n}{2}}=A(W_n^{k+\frac{n}{2}})=A^{[0]}(W_n^{2k+n})+W_n^{k+\frac{n}{2}}\cdot A^{[1]}(W_n^{2k+n})=A^{[0]}(W_n^{2k})+W_n^{k+\frac{n}{2}}\cdot A^{[1]}(W_n^{2k})=y^{[0]}_k-W_n^k\cdot y_k^{[1]} å› æ­¤åªè¦çŸ¥é“å‡º$y^{[0]}k$ä¸Ž$W_n^k\cdot y_k^{1}$çš„å€¼å°±å¯ç›´æŽ¥ç®—å‡º$y_k$ä¸Ž$y{k+\frac{n}{2}}$çš„å€¼,åªè¦å°†ä¸Šä¸€æ­¥ä¸­åˆ†æˆçš„æ ‘çŠ¶ç»“æž„ä»Žä¸‹å‘ä¸Šè®¡ç®—ä¸€éå°±èƒ½æ±‚å‡ºç­”æ¡ˆäº†,è¿™ä¸€æ“ä½œä¹Ÿè¢«ç§°ä¸ºè´ è¶ æ“ ä½œ,ä¼ªä»£ç å¦‚ä¸‹: 12345for k in range(0,n/2): t=w*y_k(1) y_k=y_k(0)+t y_k+n/2=y_k(0)-t w=w*w_n å‚…é‡Œå¶é€†å˜æ¢å…¬å¼ä»¥ä¸Šæˆ‘ä»¬äº†è§£åˆ°å¦‚ä½•å°†ç³»æ•°è¡¨ç¤ºè½¬æ¢ä¸ºç‚¹å€¼è¡¨ç¤º,é€šè¿‡ç‚¹å€¼è¡¨ç¤ºåœ¨O(n)å¤æ‚åº¦ä¸‹æ±‚å‡ºå¤šé¡¹å¼çš„ä¹˜ç§¯ä¹‹åŽåªè¦å†å°†ç‚¹å€¼è¡¨ç¤ºè½¬æ¢ä¸ºç³»æ•°è¡¨ç¤º(æ±‚æ’å€¼)å³å¯.å‰é¢è®²å¤šé¡¹å¼çš„ç‚¹å€¼è¡¨è¾¾æ—¶æˆ‘ä»¬æåˆ°äº†ä¸€ç§æ±‚æ’å€¼çš„è¿‡ç¨‹,$a=V(x0,x_1,x_2,\dots,x{n-1})^{-1}\cdot y$ , å³åªè¦å¾—åˆ°èŒƒå¾·è’™å¾·è¡Œåˆ—å¼çš„é€†çŸ©é˜µå°±èƒ½æ±‚å‡ºå¯¹åº”çš„a. ç”±äºŽä¸€ä¸ªçŸ©é˜µçš„é€†çŸ©é˜µ$A^{-1}=\frac{1}{|A|}A^*$,æ˜“æŽ¨å¾—å‚…é‡Œå¶é€†å˜æ¢å…¬å¼: a_k=\frac{1}{n}\sum_{j=0}^{n-1}y^j\cdot e^{-\frac{2\pi i}{n}jk}é™¤äº†è¿™ç§æ±‚é€†çŸ©é˜µçš„æ–¹æ³•,æˆ‘ä»¬è¿˜å¯ä»¥ç”¨æ‹‰æ ¼æœ—æ—¥å…¬å¼æ±‚æ’å€¼,ä½†å¤æ‚åº¦ä¸ºO($n^2$),å…¬å¼å¦‚ä¸‹: A(x)=\sum_{k=0}^{n-1}y_k\frac{ \prod_{j\neq k}(x-x_j) }{ \prod_{j\neq k}(x_j-x_k) }ä»£ç UOJ#34ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include&lt;bits/stdc++.h&gt;#define pi acos(-1.0)#define maxn 300010//#define DEBUG //DEBUGæ— è§†å°±å¥½using namespace std;int n,m;complex&lt;double&gt; a[maxn],b[maxn];inline int read() //è¯»å…¥ä¼˜åŒ–&#123; char ch; int read=0; int sign=1; do ch=getchar(); while((ch&lt;'0'||ch&gt;'9')&amp;&amp;ch!='-'); if(ch=='-') sign=-1,ch=getchar(); while(ch&gt;='0'&amp;&amp;ch&lt;='9') &#123; read=read*10+ch-'0'; ch=getchar(); &#125; return read*sign;&#125;int Power2(int x) //æŠŠxè½¬åŒ–ä¸º2çš„æ•´æ•°æ¬¡å¹‚&#123; int x0; for(x0=1;x0&lt;=x;x0&lt;&lt;=1) ; return x0;&#125;inline int lg(int n) //è®¡ç®—äºŒè¿›åˆ¶ä½æ•°&#123; int l=0; if(n==0) return l; for(int x=1;x&lt;=n;x&lt;&lt;=1) l++; return l;&#125;inline int rev(int x,int n) //ä½é€†åºç½®æ¢&#123; int x0=0; while(n--) x0=(x0+(x&amp;1))&lt;&lt;1,x&gt;&gt;=1; return x0&gt;&gt;1;&#125;void FFT(complex&lt;double&gt; a[],int n,int flag) //ä¸»ä½“&#123; complex&lt;double&gt; A[n+1]; for(int i=0,l=lg(n-1);i&lt;n;++i) A[rev(i,l)]=a[i]; #ifdef DEBUG int l=lg(n-1); //åˆ‡è®°æ˜¯lg(n-1) cerr&lt;&lt;"l="&lt;&lt;l&lt;&lt;endl; for(int i=0;i&lt;n;++i) cerr&lt;&lt;rev(i,l)&lt;&lt;" "; cerr&lt;&lt;endl; #endif for(int i=2;i&lt;=n;i&lt;&lt;=1) //æžšä¸¾åˆå¹¶åŽåºåˆ—é•¿åº¦ &#123; complex&lt;double&gt; dw(cos(2*pi/i),sin(flag*2*pi/i)); for(int j=0;j&lt;n;j+=i) //è¯¥é•¿åº¦ä¸‹æ¯éƒ¨åˆ†è¿›è¡Œæ±‚è§£ &#123; complex&lt;double&gt; w(1.0,0); for(int k=0;k&lt;(i&gt;&gt;1);k++,w=w*dw) //è´è¶å˜æ¢,åªéœ€æ±‚i&gt;&gt;1æ¬¡å³å¯ &#123; complex&lt;double&gt; u=A[j+k]; complex&lt;double&gt; t=w*A[j+k+(i&gt;&gt;1)]; A[j+k]=u+t; A[j+k+(i&gt;&gt;1)]=u-t; &#125; &#125; if(flag==-1) for(int i=0;i&lt;n;++i) a[i]=int(A[i].real()/n+0.5); else for(int i=0;i&lt;n;++i) a[i]=A[i]; &#125;&#125;int main()&#123; #ifdef DEBUG freopen("in.txt","r",stdin); #endif n=read(); m=read(); for(int i=0;i&lt;=n;++i) a[i]=read(); for(int i=0;i&lt;=m;++i) b[i]=read(); int length=Power2(n+m); #ifdef DEBUG cerr&lt;&lt;"length="&lt;&lt;length&lt;&lt;endl; #endif FFT(a,length,1); FFT(b,length,1); for(int i=0;i&lt;=length;++i) a[i]*=b[i]; FFT(a,length,-1); for(int i=0;i&lt;=n+m;++i) printf("%d ",int(a[i].real())); return 0;&#125; FFTé«˜ç²¾åº¦ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115/*FFTé«˜ç²¾åº¦*/include&lt;bits/stdc++.h&gt;#define PI acos(-1.0)#define eps 1e-1#define maxn 200005#define DEBUGusing namespace std;int n,m,l=0;int rev[maxn],ans[maxn];char x[maxn],y[maxn];struct Complex&#123; double real,imag; Complex(double real=0,double imag=0):real(real),imag(imag) &#123;&#125; Complex operator + (const Complex rhs) &#123; return Complex(real+rhs.real,imag+rhs.imag); &#125; Complex operator - (const Complex rhs) &#123; return Complex(real-rhs.real,imag-rhs.imag); &#125; Complex operator * (const Complex rhs) &#123; return Complex((real*rhs.real-imag*rhs.imag),(real*rhs.imag+imag*rhs.real)); &#125;&#125;;Complex a[maxn],b[maxn];inline int read()&#123; char ch; int read=0,sign=1; do ch=getchar(); while((ch&lt;'0'||ch&gt;'9')&amp;&amp;ch!='-'); if(ch=='-') sign=-1,ch=getchar(); while(ch&gt;='0'&amp;&amp;ch&lt;='9') &#123; read=read*10+ch-'0'; ch=getchar(); &#125; return sign*read;&#125;void pre_work()&#123; int length1,length2; scanf("%s",x);length1=strlen(x); scanf("%s",y);length2=strlen(y); n=max(length1,length2); for(int i=0;i&lt;length1;++i) a[i].real=x[length1-i-1]-'0'; for(int i=0;i&lt;length2;++i) b[i].real=y[length2-i-1]-'0';#ifdef DEBUG for(int i=0;i&lt;n;++i) cerr&lt;&lt;a[i].real&lt;&lt;" "; cerr&lt;&lt;endl; for(int i=0;i&lt;n;++i) cout&lt;&lt;b[i].real&lt;&lt;" "; cerr&lt;&lt;endl;#endif m=2*n; for(n=1;n&lt;m;n&lt;&lt;=1) l++; for(int i=0;i&lt;n;++i) rev[i]=rev[i&gt;&gt;1]&gt;&gt;1|(i&amp;1)&lt;&lt;(l-1);#ifdef DEBUG for(int i=0;i&lt;n;++i) cerr&lt;&lt;i&lt;&lt;"--&gt;"&lt;&lt;rev[i]&lt;&lt;endl;#endif&#125;void FFT(Complex a[],int n,int sign)&#123; for(int i=0;i&lt;n;++i) if(rev[i]&lt;i) swap(a[i],a[rev[i]]); for(int i=2;i&lt;=n;i&lt;&lt;=1) &#123; Complex dw(cos(2*PI/i),sin(2*PI*sign/i)); for(int j=0;j&lt;n;j+=i) &#123; Complex w(1,0); for(int k=0;k&lt;(i&gt;&gt;1);k++,w=dw*w) &#123; Complex u=a[j+k]; Complex t=a[j+k+(i&gt;&gt;1)]*w; a[j+k]=u+t; a[j+k+(i&gt;&gt;1)]=u-t; &#125; &#125; &#125; if(sign==-1) for(int i=0;i&lt;n;++i) ans[i]=int(a[i].real/n+eps);&#125;void push_ans()&#123; for(int i=0;i&lt;n;++i) if(ans[i]&gt;=10) ans[i+1]+=ans[i]/10,ans[i]%=10; int first=n-1; while(ans[first]==0) first--; for(int i=first;i&gt;-1;i--) printf("%d",ans[i]);&#125;int main()&#123; pre_work(); FFT(a,n,1); FFT(b,n,1); for(int i=0;i&lt;n;++i) a[i]=a[i]*b[i]; FFT(a,n,-1);#ifdef DEBUG for(int i=0;i&lt;n;++i) cerr&lt;&lt;ans[i]&lt;&lt;" "; cerr&lt;&lt;endl;#endif push_ans(); return 0;&#125; å‚è€ƒèµ„æ–™ http://blog.csdn.net/oiljt12138/article/details/54810204http://blog.csdn.net/iamzky/article/details/22712347ç®—æ³•å¯¼è®ºç¬¬ä¸‰åç« ]]></content>
      <tags>
        <tag>Math</tag>
        <tag>NOI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œæµ--Dinicç®—æ³•]]></title>
    <url>%2F2019%2F04%2F08%2F%E7%BD%91%E7%BB%9C%E6%B5%81-Dinic%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Dinicç®—æ³•ä¾‹é¢˜:CodeVS 1993 è‰åœ°æŽ’æ°´ é¢˜ç›®æè¿° Descriptionåœ¨å†œå¤«çº¦ç¿°çš„å†œåœºä¸Šï¼Œæ¯é€¢ä¸‹é›¨ï¼ŒBessieæœ€å–œæ¬¢çš„ä¸‰å¶è‰åœ°å°±ç§¯èšäº†ä¸€æ½­æ°´ã€‚è¿™æ„å‘³ç€è‰åœ°è¢«æ°´æ·¹æ²¡äº†ï¼Œå¹¶ä¸”å°è‰è¦ç»§ç»­ç”Ÿé•¿è¿˜è¦èŠ±ç›¸å½“é•¿ä¸€æ®µæ—¶é—´ã€‚å› æ­¤ï¼Œå†œå¤«çº¦ç¿°ä¿®å»ºäº†ä¸€å¥—æŽ’æ°´ç³»ç»Ÿæ¥ä½¿è´èŒœçš„è‰åœ°å…é™¤è¢«å¤§æ°´æ·¹æ²¡çš„çƒ¦æ¼ï¼ˆä¸ç”¨æ‹…å¿ƒï¼Œé›¨æ°´ä¼šæµå‘é™„è¿‘çš„ä¸€æ¡å°æºªï¼‰ã€‚ä½œä¸ºä¸€åä¸€æµçš„æŠ€å¸ˆï¼Œå†œå¤«çº¦ç¿°å·²ç»åœ¨æ¯æ¡æŽ’æ°´æ²Ÿçš„ä¸€ç«¯å®‰ä¸Šäº†æŽ§åˆ¶å™¨ï¼Œè¿™æ ·ä»–å¯ä»¥æŽ§åˆ¶æµå…¥æŽ’æ°´æ²Ÿçš„æ°´æµé‡ã€‚ å†œå¤«çº¦ç¿°çŸ¥é“æ¯ä¸€æ¡æŽ’æ°´æ²Ÿæ¯åˆ†é’Ÿå¯ä»¥æµè¿‡çš„æ°´é‡ï¼Œå’ŒæŽ’æ°´ç³»ç»Ÿçš„å‡†ç¡®å¸ƒå±€ï¼ˆèµ·ç‚¹ä¸ºæ°´æ½­è€Œç»ˆç‚¹ä¸ºå°æºªçš„ä¸€å¼ ç½‘ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›æ—¶å€™ä»Žä¸€å¤„åˆ°å¦ä¸€å¤„ä¸åªæœ‰ä¸€æ¡æŽ’æ°´æ²Ÿã€‚ æ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œè®¡ç®—ä»Žæ°´æ½­æŽ’æ°´åˆ°å°æºªçš„æœ€å¤§æµé‡ã€‚å¯¹äºŽç»™å‡ºçš„æ¯æ¡æŽ’æ°´æ²Ÿï¼Œé›¨æ°´åªèƒ½æ²¿ç€ä¸€ä¸ªæ–¹å‘æµåŠ¨ï¼Œæ³¨æ„å¯èƒ½ä¼šå‡ºçŽ°é›¨æ°´çŽ¯å½¢æµåŠ¨çš„æƒ…å½¢ã€‚è¾“å…¥æè¿° Input Descriptionç¬¬1è¡Œ: ä¸¤ä¸ªç”¨ç©ºæ ¼åˆ†å¼€çš„æ•´æ•°N (0 &lt;= N &lt;= 200) å’Œ M (2 &lt;= M &lt;= 200)ã€‚Næ˜¯å†œå¤«Johnå·²ç»æŒ–å¥½çš„æŽ’æ°´æ²Ÿçš„æ•°é‡ï¼ŒMæ˜¯æŽ’æ°´æ²Ÿäº¤å‰ç‚¹çš„æ•°é‡ã€‚äº¤ç‚¹1æ˜¯æ°´æ½­ï¼Œäº¤ç‚¹Mæ˜¯å°æºªã€‚ ç¬¬äºŒè¡Œåˆ°ç¬¬N+1è¡Œ: æ¯è¡Œæœ‰ä¸‰ä¸ªæ•´æ•°ï¼ŒSi, Ei, å’Œ Ciã€‚Si å’Œ Ei (1 &lt;= Si, Ei &lt;= M) æŒ‡æ˜ŽæŽ’æ°´æ²Ÿä¸¤ç«¯çš„äº¤ç‚¹ï¼Œé›¨æ°´ä»ŽSi æµå‘Eiã€‚Ci (0 &lt;= Ci &lt;= 10,000,000)æ˜¯è¿™æ¡æŽ’æ°´æ²Ÿçš„æœ€å¤§å®¹é‡ã€‚ è¾“å‡ºæè¿° Output Descriptionè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œå³æŽ’æ°´çš„æœ€å¤§æµé‡ã€‚ æ ·ä¾‹è¾“å…¥ Sample Input5 41 2 401 4 202 4 202 3 303 4 10 æ ·ä¾‹è¾“å‡º Sample Output50 é—®é¢˜åˆ†æžå¾ˆæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€é“ç½‘ç»œæµé—®é¢˜ï¼Œæºç‚¹ä¸º1å·èŠ‚ç‚¹ï¼Œæ±‡ç‚¹ä¸ºç¬¬nå·èŠ‚ç‚¹ï¼Œä¸­é—´çš„ç‚¹ä¹‹é—´ç”±æœ‰å‘è¾¹è¿žæŽ¥ï¼Œè¾¹æƒå³ä¸ºæµé‡wiï¼Œè¿™æ ·å°±ç®€å•æž„é€ äº†ä¸€ä¸ªç½‘ç»œæµçš„é—®é¢˜ï¼Œç”±äºŽé¢˜ç›®è¦æ±‚æŽ’æ°´çš„æœ€å¤§æµé‡ï¼Œä¹Ÿå°±æ˜¯æ±‚å‡ºæ­¤ç½‘ç»œä¸­çš„æœ€å¤§æµã€‚ å¯¹äºŽæ±‚æœ€å¤§æµçš„é—®é¢˜ï¼Œå¤§å®¶å…¥é—¨æ—¶ä¸€å®šæŽ¥è§¦çš„æ˜¯EKç®—æ³•ï¼Œä½†æ˜¯EKç®—æ³•çš„æ•ˆçŽ‡å®žåœ¨æ„Ÿäººï¼Œéš¾ä»¥æ»¡è¶³ç«žèµ›ä¸­çš„éœ€è¦ï¼Œè€ŒDinicç®—æ³•é€šè¿‡å¯¹EKç®—æ³•ç®€å•çš„ä¼˜åŒ–ä½¿å…¶æ•ˆçŽ‡æœ‰äº†æ˜Žæ˜¾çš„æå‡ï¼ŒåŸºæœ¬èƒ½å¤Ÿæ»¡è¶³ç«žèµ›å¯¹æ±‚æœ€å¤§æµçš„æ•ˆçŽ‡çš„è¦æ±‚ã€‚é‚£ä¹ˆDinicæ˜¯æ€Žæ ·ä¼˜åŒ–çš„å‘¢ï¼Ÿ Dinicç®—æ³•æœ‰ä¸‰ä¸ªå…³é”®è¯ï¼šå¢žå¹¿è·¯ï¼Œæ®‹é‡ç½‘ç»œï¼Œå±‚æ¬¡ã€‚ é¦–å…ˆï¼Œå¢žå¹¿è·¯å°±æ˜¯æ¯æ¬¡ä»Žæºç‚¹æ‰©å±•ä¸€æ¡å¯ä»¥åˆ°æ±‡ç‚¹çš„è·¯å¾„ï¼Œç„¶åŽæ›´æ–°ä¸€éæ®‹ç•™ç½‘ç»œåŽç»§ç»­å¯»æ‰¾ä¸€æ¡è¿™æ ·çš„è·¯å¾„çš„è¿‡ç¨‹ç›´è‡³ä»Žæºç‚¹åˆ°æ±‡ç‚¹æ²¡æœ‰ä¸€æ¡è·¯å¾„å¯è¾¾æ—¶åœæ­¢ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ±‚å¢žå¹¿è·¯çš„è¿‡ç¨‹ã€‚ï¼ˆé™„ä¸Šä¸€ç»„æ±‚å¢žå¹¿è·¯çš„æµç¨‹å›¾ï¼‰ æ®‹é‡ç½‘ç»œæ˜¯Dinicç®—æ³•ï¼ˆä¹Ÿæ˜¯EKç®—æ³•ï¼‰çš„å…³é”®ï¼Œæ®‹é‡ç½‘ç»œå®žé™…ä¸Šå°±æ˜¯æµç½‘ç»œä¸Šä¸€æ¡è¾¹åœ¨å½“å‰æµé‡çš„åŸºç¡€ä¸Šå¯ä»¥å…è®¸çš„é¢å¤–æµé‡ï¼Œå³ $C_f(u,v)=c(u,v) -f(u,v)$ ä½†éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå½“ $C_f(u,v)$ ä¸º0æ—¶è¯¥æ¡è¾¹å°†ä¸å±žäºŽå›¾ $ G_f $ã€‚æ®‹é‡ç½‘ç»œçš„æž„å»ºç›¸å½“äºŽç»™äº†ä½ ä¸€ä¸ªåŽæ‚”çš„æœºä¼šï¼Œå°†åŽŸæ¥å·²ç»åˆ åŽ»çš„è·¯åœ¨å¯ä»¥å¾—åˆ°æ›´ä¼˜è§£æ—¶æ¢å›žæ¥ï¼Œå³å°†åå‘å¼§å†æ¬¡åå‘ï¼Œåˆå›žåˆ°åŽŸæ¥çš„çŠ¶æ€ã€‚ ä¹‹å‰ä¸¤ç‚¹å¹¶ä¸æ˜¯Dinicç®—æ³•ç‹¬æœ‰çš„ï¼ŒEKç®—æ³•åŒæ ·éœ€è¦ï¼Œç„¶è€ŒDinicæ›´ä¼˜ç§€çš„åœ°æ–¹å°±åœ¨äºŽç¬¬ä¸‰ç‚¹ï¼Œå®ƒæ±‚å¢žå¹¿è·¯å‰å…ˆå°†å›¾è¿›è¡Œåˆ†å±‚ï¼Œé€å±‚é€’è¿›å¯»æ‰¾å¢žå¹¿è·¯ï¼Œè¿™æ ·æ¯æ¡è·¯éƒ½æ˜¯s-tæœ€çŸ­è·¯ï¼Œæ ¹æ®æœ€çŸ­å¢žå¹¿è·¯ç®—æ³•ä¸­çš„è¯æ˜Žï¼ˆä¸å¿…æ·±ç©¶ï¼‰ï¼Œå¯ä»¥ç¡®å®šè¿™æ ·æ‰¾å¢žå¹¿è·¯çš„æ•ˆçŽ‡å¾—åˆ°å¤§å¹…æé«˜ï¼ ä»£ç äº†è§£äº†ç®—æ³•çš„å…³é”®ï¼Œç å‡ºæ¥ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§éšœç¢ï¼Œæ¯æ¬¡å¢žå…‰å‰bfsåˆ†ä¸€æ¬¡å±‚å³å¯ï¼Œä¸‹é¢é™„ä¸Šä»£ç (é‚»æŽ¥çŸ©é˜µå­˜å‚¨)ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;#include&lt;queue&gt;#define maxn 255using namespace std;const int INF=0x3f3f3f3f;int n,m;int edge[maxn][maxn];int now[maxn],dis[maxn];int bfs() //åˆ†å±‚&#123; memset(dis,-1,sizeof(dis)); queue&lt;int &gt; q; q.push(1); dis[1]=0; while(!q.empty()) &#123; int u=q.front() ; q.pop(); for(int i=1;i&lt;=n;++i) &#123; if(dis[i]==-1 &amp;&amp; edge[u][i]&gt;0) &#123; dis[i]=dis[u]+1; q.push(i); &#125; &#125; &#125; return dis[n]==-1?0:dis[n];&#125;int MaxFlow(int u,int flow)&#123; if(u==n) return flow; int post_maxflow; for(int i=now[u];i&lt;n;++i) //å½“å‰å¼§ä¼˜åŒ– &#123; now[u]=1; if(dis[i+1]==dis[u]+1 &amp;&amp; edge[u][i+1]&gt;0 &amp;&amp; (post_maxflow=MaxFlow(i+1,min(flow,edge[u][i+1])))) &#123; edge[u][i+1]-=post_maxflow; edge[i+1][u]+=post_maxflow; return post_maxflow; &#125; &#125; return 0;&#125;int main()&#123; //freopen("in.txt","r",stdin); //freopen("out.txt","w",stdout); int sumflow=0; memset(edge,0,sizeof(edge)); scanf("%d%d",&amp;m,&amp;n); for(int i=1;i&lt;=m;++i) &#123; int u,v,w; scanf("%d%d%d",&amp;u,&amp;v,&amp;w); edge[u][v]+=w; &#125; while(bfs()) &#123; int flow; memset(now,0,sizeof(now)); while(flow=MaxFlow(1,INF)) sumflow+=flow; &#125; printf("%d",sumflow); return 0;&#125; ä½†æ˜¯å½“å›¾å¾ˆå¤§æ—¶ï¼Œé‚»æŽ¥çŸ©é˜µæ˜¾ç„¶æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå¦‚POJ3469 Dual Core CPU ä¸­ n&lt;=20000,è¿™æ—¶å†ç”¨é‚»æŽ¥çŸ©é˜µä¼šMLï¼Œåªè¦å°†å›¾è¯¥ç”¨é‚»æŽ¥è¡¨å­˜å‚¨å³å¯ï¼Œé™„ä¸Šä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;queue&gt;#define Repeat(s,t) for(int i=(s);i&lt;(t);++i)#define INF 0x3f3f3f3f#define maxn 20000+50#define DEBUGusing namespace std;struct edge&#123; int from,to,cap,flow; edge(int from,int to,int cap,int flow):from(from),to(to),cap(cap),flow(flow) &#123;&#125;&#125;;struct dinic&#123; int n,m,s,t; vector&lt;edge&gt; edges; vector&lt;int&gt; G[maxn]; int d[maxn]; int cur[maxn]; dinic() &#123;&#125; void init() &#123; memset(d,-1,sizeof(d)); memset(cur,0,sizeof(0)); &#125; void add_edge(int from,int to,int cap,int flag) &#123; if(!flag) &#123; edges.push_back(edge(from,to,cap,0)); edges.push_back(edge(to,from,0,0)); &#125; else &#123; edges.push_back(edge(from,to,cap,0)); edges.push_back(edge(to,from,cap,0)); &#125; m=edges.size(); G[from].push_back(m-2); G[to].push_back(m-1); &#125; bool bfs() &#123; memset(d,-1,sizeof(d)); queue&lt;int&gt; q; q.push(s); d[s]=0; while(!q.empty()) &#123; int u=q.front() ; q.pop(); for(unsigned int i=0;i&lt;G[u].size();++i) &#123; edge&amp; e=edges[G[u][i]]; if(d[e.to]==-1 &amp;&amp; e.cap&gt;e.flow) &#123; d[e.to]=d[u]+1; q.push(e.to); &#125; &#125; &#125; return d[t]==-1?0:1; &#125; int dfs(int x,int a) &#123; if(x==t || a==0) return a; int flow=0,f; for(unsigned int i=cur[x];i&lt;G[x].size();++i) &#123; cur[x]=i; edge&amp; e=edges[G[x][i]]; if(d[x]+1==d[e.to] &amp;&amp; (f=dfs(e.to,min(a,e.cap-e.flow)))&gt;0) &#123; e.flow+=f; edges[G[x][i]^1].flow-=f; flow+=f; a-=f; if(a==0) break; &#125; &#125; return flow; &#125; int MaxFlow(int n,int s,int t) &#123; this-&gt;n=n; this-&gt;s=s; this-&gt;t=t; int flow=0; while(bfs()) &#123; memset(cur,0,sizeof(cur)); flow+=dfs(s,INF); &#125; return flow; &#125;&#125;;inline int read()&#123; /*ç¥žtmä¸€å®šè¦æ³¨æ„è¿‡æ»¤æŽ‰æ•°æ®å‰é¢çš„å¤šä½™ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦!å¦åˆ™ä¼šå¯¼è‡´ä¸å¯åçŠ¶çš„é”™è¯¯!poä¸»ä»˜å‡ºè¿‡æƒ¨ç—›ä»£ä»·QAQ*/ char ch; do ch=getchar(); while((ch &lt; '0' || ch &gt; '9') &amp;&amp; ch !='-'); int read=0; bool sign=0; if(ch=='-') &#123; sign=1; ch=getchar(); &#125; while(ch&gt;='0' &amp;&amp; ch&lt;='9') &#123; read=read*10+ch-'0'; ch=getchar(); &#125; return sign==0?read:-read;&#125;inline void write(int out)&#123; if(out&lt;0) &#123; putchar('-'); out=-out; &#125; if(out&gt;9) write(out/10); putchar(out%10+'0');&#125;int main()&#123; int n,m; n=read(); m=read(); int s=0,t=n+1; dinic D; Repeat(1,n+1) &#123; int a=read(),b=read(); D.add_edge(s,i,a,0); D.add_edge(i,t,b,0); &#125; Repeat(1,m+1) &#123; int a=read(),b=read(),w=read(); D.add_edge(a,b,w,1); &#125; write(D.MaxFlow(n,s,t)); return 0;&#125;]]></content>
      <tags>
        <tag>Math</tag>
        <tag>NOI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜¶æ¢¯åšå¼ˆ]]></title>
    <url>%2F2019%2F04%2F08%2F%E9%98%B6%E6%A2%AF%E5%8D%9A%E5%BC%88%2F</url>
    <content type="text"><![CDATA[é˜¶æ¢¯åšå¼ˆé˜è¿°é˜¶æ¢¯åšå¼ˆä¹Ÿæ˜¯åšå¼ˆè®ºä¸­é‡è¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ‰€è°“é˜¶æ¢¯åšå¼ˆï¼Œå…¶å®žæŒ‡ä»£çš„æ˜¯ä¸€ç±»åªèƒ½ä»ŽåŽå‘å‰é€å±‚ä¼ é€’çŸ³å­çš„æ¸¸æˆçš„æ¨¡åž‹ï¼ŒåŒæ ·çš„ï¼Œè¿™ç±»é—®é¢˜ä¹Ÿå¯ä»¥è½¬åŒ–æˆNIMå–çŸ³å­é—®é¢˜æ±‚è§£ é¢˜åž‹å‰äº”å †çŸ³å­åˆ†åˆ«æœ‰2,1,3,1,4ä¸ªçŸ³å­ï¼Œæ¯ä¸ªäººåªèƒ½æŠŠåŽé¢çš„ä»»æ„å¤šä¸ªçŸ³å­å‘å‰ç§»ï¼Œä¸èƒ½ç§»åŠ¨è€…ä¸ºè´Ÿï¼ŒçŽ°åœ¨é—®å…ˆæ‰‹å¿…èƒœè¿˜æ˜¯å¿…è´¥ï¼Ÿ åˆ†æžè¿™ä¸ªå¾ˆç®€å•ï¼Œåˆ†åˆ«æŠŠäº”å †çŸ³å­ç¼–å·0~4ï¼Œå¾ˆæ˜¾ç„¶å½“æŠŠæ‰€æœ‰çŸ³å­ç§»åˆ°0å †çš„ä¸€æ–¹èŽ·èƒœï¼Œå³å¯¹åº”å…ˆæ‰‹å¿…èƒœæ€ã€‚ä¸è€ƒè™‘ç¼–å·åŽçš„å¥‡æ•°å †ï¼ˆå¯ä»¥å‡è®¾å¥‡æ•°å †ä¸Šæ²¡æœ‰çŸ³å­å¯ä»¥ç§»åŠ¨ï¼‰ï¼Œå¯¹äºŽæ‰€æœ‰å¶æ•°å †ï¼ŒçŽ‡å…ˆç§»åŠ¨çš„ä¸€æ–¹è‚¯å®šä¼šå¤±è´¥ï¼Œè¿™æ˜¯æ˜¾ç„¶çš„ï¼Œå› ä¸ºç›®æ ‡å †æ˜¯ç¬¬0å †ï¼Œè€Œç§»åŠ¨2kå †åªèƒ½åˆ°2k-1å †ï¼Œå³å¥‡æ•°å †ï¼Œå¦ä¸€æ–¹å†æ¬¡ç§»åŠ¨åˆä¼šå›žåˆ°å¶æ•°å †çš„æƒ…å†µï¼Œå¦‚æ­¤å¾€å¤ï¼Œæœ€ç»ˆä¸€å®šæ˜¯é¢å¯¹å‡ä¸ºå¶æ•°å †çš„ä¸€æ–¹å¤±è´¥ï¼Œè¿™æ ·çœ‹æ¥ï¼Œå¶æ•°å †å¯¹èƒœè´Ÿçš„å½±å“å¯ä»¥è½¬åŒ–ä¸ºå“ªä¸€æ–¹å…ˆå°†æ‰€æœ‰å¥‡æ•°å †ç§»åŠ¨å®Œå³å¯å–å¾—èƒœåˆ©ã€‚æœ‰äº†è¿™æ ·çš„è½¬åŒ–ï¼Œé—®é¢˜å°±è¿Žåˆƒè€Œè§£äº†ï¼Œå› ä¸ºæ¯æ¬¡å¯ä»¥ç§»åŠ¨ä»»æ„å¤šä¸ªï¼Œæ‰€ä»¥ä»Žå¥‡æ•°å †ç§»åˆ°å¶æ•°å †å°±å¯ä»¥ç­‰æ•ˆæˆå–èµ°å¥‡æ•°å †ä¸­çš„çŸ³å­ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆç†Ÿæ‚‰ï¼Œä¸å°±æ˜¯NIMå–çŸ³å­é—®é¢˜ä¹ˆï¼åªè¦å¯¹å¥‡æ•°å †çš„çŸ³å­åšNIMå–çŸ³å­é—®é¢˜ä¾¿å¯æ±‚è§£åŽŸé—®é¢˜ã€‚å¦‚æžœå¯¹æ‰‹ä¸å¯¹å¥‡æ•°å †ç§»åŠ¨ï¼Œè€Œé€‰æ‹©ç§»åŠ¨å¶æ•°ï¼ˆ2kï¼‰å †åˆ°ç¬¬2k-1å †ï¼Œæ–¹æ³•åŒæ ·å¾ˆç®€å•ï¼Œä½ åªéœ€è¦ä»¥å…¶äººä¹‹é“è¿˜æ²»å…¶äººä¹‹èº«ï¼ŒæŠŠä»–ç§»åŠ¨çš„ç›¸ç­‰æ•°é‡çš„çŸ³å­å†ä»Ž2k-1å †ç§»åŠ¨åˆ°2k-2å †ï¼Œè¿™æ ·ç­‰æ•ˆäºŽåˆå›žåˆ°äº†åŽŸæ¥çš„å±€é¢ã€‚ P3480 [POI2009]KAM-Pebblesé¢˜ç›®æè¿°ï¼š æœ‰Nå †çŸ³å­ï¼Œé™¤äº†ç¬¬ä¸€å †å¤–ï¼Œæ¯å †çŸ³å­ä¸ªæ•°éƒ½ä¸å°‘äºŽå‰ä¸€å †çš„çŸ³å­ä¸ªæ•°ã€‚ä¸¤äººè½®æµæ“ä½œæ¯æ¬¡æ“ä½œå¯ä»¥ä»Žä¸€å †çŸ³å­ä¸­ç§»èµ°ä»»æ„å¤šçŸ³å­ï¼Œä½†æ˜¯è¦ä¿è¯æ“ä½œåŽä»ç„¶æ»¡è¶³åˆå§‹æ—¶çš„æ¡ä»¶è°æ²¡æœ‰çŸ³å­å¯ç§»æ—¶è¾“æŽ‰æ¸¸æˆã€‚é—®å…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚ è§£å†³æ–¹æ¡ˆï¼šå¯¹äºŽä»»æ„ä¸€ä¸ªå †è¿›è¡Œç¬¦åˆè¦æ±‚çš„å–çŸ³å­æ“ä½œåŽï¼Œæ˜“çŸ¥ï¼š**å®ƒä¸ŽåŽä¸€ä¸ªå †çš„çŸ³å­å·®å¢žåŠ ï¼Œè€Œä¸Žå‰ä¸€ä¸ªå †çš„çŸ³å­å·®å‡å°ï¼ˆä¸€å®šæ³¨æ„å‰åŽçš„å¢žå‡æƒ…å†µï¼Œè¿™ä¼šå½±å“é˜¶æ¢¯åšå¼ˆçš„æ–¹å‘ï¼ï¼‰**ï¼Œè€Œå¢žå‡çš„å¹…åº¦ç›¸åŒï¼Œè¿™å°±ç­‰æ•ˆäºŽæŠŠå‰é¢çš„çŸ³å­å‘ç›¸é‚»å³ä¾§ç§»åŠ¨äº†ä¸€ä½ï¼Œå³å¯ä»¥è½¬åŒ–ä¸ºå°†åŽŸæ•°ç»„çš„å·®åˆ†æ•°ç»„è¿›è¡Œä¸€æ¬¡é˜¶æ¢¯åšå¼ˆï¼ŒåŽŸé—®é¢˜å³å¯æ±‚è§£ï¼ ä»£ç ï¼š1234567891011121314151617181920212223242526272829#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;using namespace std;const int maxn=1010;int cnt;int a[maxn],M[maxn];int main()&#123; scanf("%d",&amp;cnt); while(cnt--) &#123; int n,xorsum; scanf("%d",&amp;n); a[0]=0; xorsum=0; for(int i=1;i&lt;=n;++i) scanf("%d",&amp;a[i]); for(int i=1;i&lt;=n;++i) M[i]=a[n-i+1]-a[n-i]; for(int i=1;i&lt;=n;i+=2) xorsum^=M[i]; if(xorsum) printf("TAK\n"); else printf("NIE\n"); &#125; return 0;&#125;]]></content>
      <tags>
        <tag>Math</tag>
        <tag>NOI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Colaboratoryçš„ä½¿ç”¨]]></title>
    <url>%2F2019%2F04%2F08%2FColaboratory%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Googleå¤‡ä»½ä¸ŽåŒæ­¥åœ¨ä½¿ç”¨Colaboratoryä¹‹å‰ï¼Œç”±äºŽæ¶‰åŠGoogleDriveçš„æ–‡æ¡£åŒæ­¥ï¼Œéœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…Googleå¤‡ä»½ä¸ŽåŒæ­¥è½¯ä»¶ GoogleDriveå®‰è£…https://www.google.com/intl/zh-CN_ALL/drive/download/backup-and-sync/ ç™»é™†é—®é¢˜å¤„ç†åœ¨å®‰è£…å®Œè½¯ä»¶ä¹‹åŽéœ€è¦ç™»é™†Googleè´¦æˆ·ï¼Œä½†æ˜¯ä¸€ç›´åœ¨æç¤ºâ€œæ— æ³•æ­£å¸¸ç™»é™†ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥â€åœ¨ç¡®è®¤VPNå¯ä»¥æ­£å¸¸ä½¿ç”¨åŽç™¾åº¦åˆ°äº†å¤„ç†è¿™ç±»é—®é¢˜çš„æ­£ç¡®å§¿åŠ¿è§£å†³Macä¸‹Googleå¤‡ä»½å’ŒåŒæ­¥ç½‘ç»œè¿žæŽ¥é—®é¢˜ ç³»ç»Ÿç¼–å·è®¾ç½®-&gt;ç½‘ç»œ-&gt;é«˜çº§â€¦-&gt;ä»£ç†-&gt;ç½‘é¡µä»£ç†(HTTP)-&gt;è®¾ç½®ä»£ç†ï¼ˆ127.0.0.1:1087ï¼‰ ç™»é™†æˆåŠŸï¼ è®¾ç½®GPUåŠ é€Ÿ ä¿®æ”¹-&gt;ç¬”è®°æœ¬è®¾ç½®-&gt;ç¡¬ä»¶åŠ é€Ÿå™¨-&gt;GPU æ£€æŸ¥GPUæ˜¯å¦å¯ç”¨ 12import tensorflow as tftf.test.gpu_device_name() æ˜¾ç¤ºGPUè¯¦ç»†ä¿¡æ¯ 12from tensorflow.python.client import device_libdevice_lib.list_local_devices() æ˜¾ç¤ºCPUè¯¦ç»†ä¿¡æ¯ 1!cat /proc/cpuinfo ä½¿ç”¨Colabæ‰“å¼€.pyæ–‡ä»¶è½¬è½½è¯´æ˜Žè¯¥éƒ¨åˆ†è½¬è½½è‡ª[è–…èµ„æœ¬ä¸»ä¹‰ç¾Šæ¯›ï¼Œç”¨Googleå…è´¹GPU][2] é…ç½®æœåŠ¡å™¨ 123456789101112!apt-get install -y -qq software-properties-common python-software-properties module-init-tools!add-apt-repository -y ppa:alessandro-strada/ppa 2&gt;&amp;1 &gt; /dev/null!apt-get update -qq 2&gt;&amp;1 &gt; /dev/null!apt-get -y install -qq google-drive-ocamlfuse fusefrom google.colab import authauth.authenticate_user()from oauth2client.client import GoogleCredentialscreds = GoogleCredentials.get_application_default()import getpass!google-drive-ocamlfuse -headless -id=&#123;creds.client_id&#125; -secret=&#123;creds.client_secret&#125; &lt; /dev/null 2&gt;&amp;1 | grep URLvcode = getpass.getpass()!echo &#123;vcode&#125; | google-drive-ocamlfuse -headless -id=&#123;creds.client_id&#125; -secret=&#123;creds.client_secret&#125; æŒ‰æ­¥éª¤è¦æ±‚ç‚¹å‡»é“¾æŽ¥è¾“å…¥éªŒè¯ç å³å¯ æŽˆæƒå®ŒæˆåŽæŒ‚è½½GoogleDriveï¼š 12!mkdir -p drive!google-drive-ocamlfuse drive GoogleDriveæ–‡æ¡£æ‰“å¼€ä½ç½® 1cd /drive/xxx é‡ç½®(reset)æœåŠ¡å™¨1!kill -9 -1]]></content>
      <tags>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[venvçš„å®‰è£…å’Œä½¿ç”¨]]></title>
    <url>%2F2019%2F04%2F08%2Fvenv%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å®‰è£…venv1python3 install virtualenv venvçš„ä½¿ç”¨ åœ¨å½“å‰ç›®å½•åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ 1python3 -m venv . åœ¨å½“å‰ç›®å½•åˆ›å»ºç‹¬ç«‹çš„pythonçŽ¯å¢ƒ 1virtualenv --no-site-packages venv æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ 1source venv/bin/activate åœç”¨è™šæ‹ŸçŽ¯å¢ƒ 1deactivate åˆ é™¤è™šæ‹ŸçŽ¯å¢ƒ 1rm -rf venv å‚è€ƒç½‘ç«™https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432712108300322c61f256c74803b43bfd65c6f8d0d0000 https://www.cnblogs.com/LittleMore/p/6693154.html https://www.cnblogs.com/technologylife/p/6635631.html]]></content>
      <tags>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿçº¿æ€§ç­›æ³•æ±‚ç´ æ•°]]></title>
    <url>%2F2019%2F04%2F08%2F%E5%BF%AB%E9%80%9F%E7%BA%BF%E6%80%A7%E7%AD%9B%E6%B3%95%E6%B1%82%E7%B4%A0%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ç­›æ³•æ±‚ç´ æ•°åŸºæœ¬æ­¥éª¤è¯´åˆ°æ±‚ç´ æ•°ï¼Œå…¶å®žåœ¨åˆšå¼€å§‹å­¦C++çš„æ—¶å€™å°±å·²ç»è§è¿‡è¯¸å¦‚æ­¤ç±»çš„é—®é¢˜ï¼Œä¸è¿‡çŽ°åœ¨æœ€å¸¸è§çš„è¿˜æ˜¯ç­›æ³•æ±‚ç´ æ•° è°ˆåŠç­›æ³•æ±‚ç´ æ•°ï¼Œå…¶å¤§è‡´æ€è·¯å¯åˆ†ä¸ºå¦‚ä¸‹äº”æ­¥ï¼š æŠŠ2åˆ°nçš„è‡ªç„¶æ•°æ”¾å…¥a[2]åˆ°a[n]ä¸­(æ‰€æ”¾å…¥çš„æ•°ä¸Žä¸‹æ ‡å·ç›¸åŒ) ; åœ¨æ•°ç»„å…ƒç´ ä¸­ä»¥ä¸‹æ ‡ä¸ºåºï¼ŒæŒ‰é¡ºåºæ‰¾åˆ°æœªæ›¾æ‰¾è¿‡çš„æœ€å°ç´ æ•°minpå’Œå®ƒçš„ä½ç½®p(å³ä¸‹æ ‡å·); ä»Žp+1å¼€å§‹ï¼ŒæŠŠå‡¡æ˜¯èƒ½è¢«minpæ•´é™¤çš„å„å…ƒç´ å€¼ä»Žaæ•°ç»„ä¸­åˆ’åŽ»(ç­›æŽ‰)ï¼Œä¹Ÿå°±æ˜¯æŠŠè¯¥å…ƒç´ æ ‡è®°ä¸º0; è®©p=p+1ï¼Œé‡å¤æ‰§è¡Œç¬¬(2) (3)æ­¥éª¤ï¼ŒçŸ¥é“ï¼Œminp&gt;floor(sqrt(n))ä¸ºæ­¢; æ‰“å°è¾“å‡ºaæ•°ç»„ä¸­ç•™ä¸‹æ¥çš„æ•°ï¼Œæœªè¢«ç­›æŽ‰çš„å„å…ƒç´ å€¼; ç¼ºé™·åˆ†æžè¿™ç§æ±‚ç´ æ•°çš„ç®—æ³•å¾ˆå®¹æ˜“è¢«ç†è§£ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä»‹äºŽO(n)~O(n*logn)æ˜¯ä¸€ç§æ¯”è¾ƒæµè¡Œçš„æ–¹æ³•ã€‚ä½†æ˜¯åŒæ ·çš„ï¼Œè¿™ç§ç®—æ³•ä¹Ÿå­˜åœ¨å…ˆå¤©æ€§çš„ç¼ºé™·ï¼Œæˆ‘ä»¬ç®€å•åˆ†æžï¼š å¯¹äºŽä¸€ä¸ªæ•°30ï¼Œå¯åˆ†è§£ä¸º30=215=310=5*6ï¼Œæ˜¾ç„¶ï¼Œå½“å¾ªçŽ¯,2,3,5,6,10,15æ—¶éƒ½ä¼šç­›é™¤ä¸€æ¬¡30è¿™ä¸ªæ•°ï¼Œè€Œå½“nå¾ˆå¤§æ—¶ï¼Œå°±ä¼šå‡ºçŽ°è®¸å¤šçš„å†—ä½™æ“ä½œï¼Œè¿™ä¸ªç®—æ³•å¯ä»¥è¿›ä¸€æ­¥è¿›è¡Œä¼˜åŒ–æ¥ä½¿ç®—æ³•çš„æ•ˆçŽ‡æé«˜ï¼Œå› æ­¤ï¼Œä¸€ç§åä¸ºå¿«é€Ÿçº¿æ€§ç­›æ³•çš„ç®—æ³•åº”è¿è€Œç”Ÿã€‚è¿™ç§ç®—æ³•çš„æ™ºæ…§ä¹‹å¤„åœ¨äºŽâ€”â€”å¯¹äºŽ2~nçš„æ¯ä¸€ä¸ªæ•°ï¼Œå®ƒåªç­›åŽ»åˆ°ç›®å‰ä¸ºæ­¢å®ƒèƒ½ç­›åˆ°è€Œä¹‹åŽçš„å…¶ä»–æ•°ç­›ä¸åˆ°çš„å‡ ä¸ªåˆæ•°ï¼Œè€ŒæŠŠå®ƒèƒ½ç­›åˆ°ï¼Œå¦æœ‰åˆ«çš„æ•°ä¹Ÿèƒ½ç­›åˆ°çš„æ•°ç•™ä¸ªæŽ¥ä¸‹æ¥çš„æ•°åŽ»ç­›ï¼Œè¿™æ ·çš„è¯å°±èƒ½ä½¿å¾—ç´ æ•°çš„ç­›é€‰ä¸é‡ä¸æ¼â€”â€”è¯´èµ·æ¥å®¹æ˜“åšèµ·æ¥éš¾ï¼Œè¿™æ ·çš„ç®—æ³•åº”è¯¥å¦‚ä½•å®žçŽ°å‘¢ï¼Ÿ å¿«é€Ÿçº¿æ€§ç­›æ³•æ±‚ç´ æ•°åŸºæœ¬æ­¥éª¤å¯¹äºŽå¿«é€Ÿç­›æ³•æ±‚ç´ æ•°ï¼Œå…¶æ­¥éª¤ä¹Ÿå¯åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªé˜¶æ®µï¼š å¼€ä¸€ä¸ªn+1å¤§å°çš„æ•°ç»„num[n]æ¥å­˜æ”¾æ¯ä¸€ä¸ªå…ƒç´ çš„ç­›ç•™æƒ…å†µ(å³å¯¹äºŽnum[n]çš„æ¯ä¸ªæ•°ä¸Žä¸‹æ ‡å·ç›¸åŒï¼Œå¯¹äºŽä»»æ„num[n]æœ‰num[n]=0,num[n]=1ä¸¤ç§æƒ…å†µï¼Œå¦‚æžœnum[n]=0åˆ™æ˜¯ç´ æ•°ï¼Œåä¹‹num[n]=1æ—¶æ˜¯åˆæ•°); å†å¼€ä¸€ä¸ªæ•°ç»„prime[n]æ¥å­˜æ”¾ç­›å‡ºçš„ç´ æ•°ä»¥ä¾¿æœ€åŽè¾“å‡ºç»“æžœ; å¯¹äºŽä¸€ä¸ªæ•°k,æ€»æ˜¯è¿›è¡Œä»Žn*prime[0]~n*prime[j](ç”±å°åˆ°å¤§æ¥ä¹˜)ï¼Œç›´åˆ°if(n%prime[j]==0)æˆç«‹æ—¶breakæŽ‰ è¿™æ˜¯è¿™ä¸ªç®—æ³•çš„ç²¾é«“æ‰€åœ¨ï¼Œæ‰€ä»¥å¼„æ¸…æ¥šåŽŸå› æ˜¯ååˆ†å¿…è¦çš„ï¼ï¼ï¼å¯¹äºŽä¸€ä¸ªæ•°c=a*b(bä¸ºcçš„æœ€å°è´¨å› æ•°ï¼‰ï¼Œå½“é€šè¿‡è¯¥ç®—æ³•çš„å¾ªçŽ¯å¾ªçŽ¯è‡³c*bæ—¶ï¼Œæ˜“å¾—æ­¤æ—¶c%b==0,å¦‚æžœæ­¤æ—¶ç»§ç»­å¾ªçŽ¯è‡³båŽé¢çš„ä¸€ä¸ªç´ æ•°dï¼Œåˆ™æœ‰ï¼šc*d=a*b*d=(a*d)*bï¼Œå› ä¸ºd&gt;b,æ‰€ä»¥a*d&gt;cã€‚å½“å¾ªçŽ¯ä»Žcç»§ç»­æŸ¥æ‰¾åˆ°a*dæ—¶æˆ‘ä»¬å‘çŽ°å½“a*då†æ¬¡ä¸Žç´ æ•°bæƒ³ä¹˜æ—¶ï¼Œå°±åˆå¯¹cdè¿›è¡Œäº†ä¸€æ¬¡æ“ä½œï¼Œå‡ºçŽ°äº†å†—ä½™ï¼Œæ‰€ä»¥åœ¨if(n%prime[j]==0)æˆç«‹æ—¶è¦å°†è¯¥å±‚å¾ªçŽ¯breakæŽ‰ï¼›ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºŽä¸€ä¸ªæ•°9ï¼Œ9\2=18å°†18æ ‡è®°ä¸ºåˆæ•°ï¼Œå¾ªçŽ¯ç»§ç»­ï¼›9\3=27å°†27æ ‡è®°ä¸ºåˆæ•°ï¼Œæ­¤æ—¶å‘çŽ°9%3=0ï¼Œå¾ªçŽ¯é€€å‡ºã€‚å¦‚æžœå°†å¾ªçŽ¯ç»§ç»­ä¸‹åŽ»ä¼šå‡ºçŽ°ç­›é™¤9\5=45çš„æƒ…å†µï¼Œè€Œ45=15*3ï¼Œåœ¨15æ—¶ä¼šè¢«åœ¨ç­›åŽ»ä¸€æ¬¡ï¼Œæ•…ä¸å¯è¡Œ å®Œæˆäº†ç®—æ³•ä¸­æœ€é‡è¦çš„ä¸€æ­¥ï¼Œæœ€åŽåªè¦å°†å­˜æ”¾ç­›å‡ºçš„prime[]æ•°ç»„ä¸­çš„ç´ æ•°å³å¯ï¼ è¿™ç§ç®—æ³•çš„å†™æ³•ä¹Ÿååˆ†ç®€å•ï¼Œè¿™é‡Œåªç»™å‡ºä¸€ç§ä¸Žæ™®é€šç­›æ³•æ±‚ç´ æ•°æ¯”è¾ƒç¨‹åºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#include&lt;iostream&gt;#include&lt;cstdio&gt;#include&lt;ctime&gt;#include&lt;cmath&gt;#define inf 20000005using namespace std;int n;bool a[inf+1];long num[inf+1]=&#123;1,1&#125;,prime[inf+1]=&#123;0&#125;,number=0; void putongshaifa() &#123; clock_t begin,end; begin=clock(); for(int i=0;i&lt;=n;++i) a[i]=true; a[1]=false; for(int i=2;i&lt;sqrt(n);++i) if(a[i]) for(int j=2;j&lt;=n/i;++j) a[i*j]=false; end=clock(); /*for(int i=2,t=0;i&lt;=n;++i) if(a[i]) &#123; cout&lt;&lt;i&lt;&lt;" "; ++t; if(t%10==0) cout&lt;&lt;endl; &#125; cout&lt;&lt;endl;*/ printf("æ™®é€šç­›æ³•-Time used:%d ms\n",end-begin); return;&#125;void kuaisushaifa() &#123; clock_t begin,end; begin=clock(); for(int i=2;i&lt;=n;++i) &#123; if(!num[i]) prime[number++]=i; for(int j=0;j&lt;number &amp;&amp; i*prime[j]&lt;=n;j++) &#123; num[i*prime[j]]=1; if(!(i%prime[j])) break; &#125; &#125; end=clock(); /*for(int i=0;i&lt;number;i++) &#123; if(i%10==0) printf("\n"); printf("%3d",prime[i]); &#125; */ printf("å¿«é€Ÿç­›æ³•-Time used:%d ms\n",end-begin); return;&#125;int main()&#123; //freopen("prime.txt","w",stdout); scanf("%d",&amp;n); int _test=10; while(_test--) &#123; putongshaifa(); kuaisushaifa(); cout&lt;&lt;endl; &#125; return 0; &#125;]]></content>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é”™æŽ’å…¬å¼çš„æŽ¨å¯¼ä¸Žåº”ç”¨]]></title>
    <url>%2F2019%2F04%2F08%2F%E9%94%99%E6%8E%92%E5%85%AC%E5%BC%8F%E7%9A%84%E6%8E%A8%E5%AF%BC%E4%B8%8E%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[é—®é¢˜ç®€ä»‹é”™æŽ’é—®é¢˜ï¼Œåˆç§°æ›´åˆ—é—®é¢˜ï¼Œæ˜¯ç»„åˆæ•°å­¦ä¸­çš„é—®é¢˜ä¹‹ä¸€ã€‚å¯¹äºŽå®ƒçš„ç ”ç©¶æœ€æ—©å¯ä»¥è¿½æº¯åˆ°åå…«ä¸–çºªï¼Œå½“æ—¶ä»–è¢«æ•°å­¦å®¶å°¼å¤æ‹‰Â·ä¼¯åŠªåˆ©å’Œæ¬§æ‹‰ç ”ç©¶ï¼Œå› æ­¤åœ¨åŽ†å²ä¸Šä¹Ÿè¢«ç§°ä¸ºä¼¯åŠªåˆ©â€”æ¬§æ‹‰çš„é”™è£…ä¿¡å°é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æœ‰è®¸å¤šå…·ä½“çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚åœ¨å†™ä¿¡æ—¶è®²nå°ä¿¡è£…åˆ°nä¸ªä¸åŒçš„ä¿¡å°é‡Œï¼Œæœ‰å¤šå°‘ç§å…¨éƒ¨è£…é”™ä¿¡å°çš„æƒ…å†µï¼Ÿå†æ¯”å¦‚nä¸ªäººå„å†™ä¸€å¼ è´ºå¡ç›¸äº’èµ é€ï¼Œæœ‰å¤šå°‘ç§èµ é€æ–¹æ³•ï¼Ÿè¿™äº›ç»å…¸çš„é¢˜ç›®éƒ½æ˜¯å…¸åž‹çš„é”™æŽ’é—®é¢˜ã€‚ é—®é¢˜åˆ†æžç›¸ä¿¡çœ‹è¿‡ä¸Šé¢å¯¹äºŽé”™æŽ’é—®é¢˜çš„ç®€å•çš„ä»‹ç»ï¼Œå¤§å®¶ä¹Ÿéƒ½å¯¹å®ƒæœ‰äº†ä¸€äº›åˆæ­¥çš„äº†è§£ï¼Œå½’ç»“èµ·æ¥ï¼Œå°±æ˜¯è€ƒè™‘ä¸€ä¸ªæœ‰nä¸ªå…ƒç´ çš„æŽ’åˆ—ï¼Œè‹¥ä¸€ä¸ªæŽ’åˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½ä¸åœ¨è‡ªå·±åŽŸæ¥çš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆè¿™æ ·çš„æŽ’åˆ—å°±ç§°ä¸ºåŽŸæŽ’åˆ—çš„ä¸€ä¸ªé”™æŽ’ï¼Œnä¸ªå…ƒç´ çš„é”™æŽ’æ•°è®°ä¸ºD(n)ã€‚é‚£ä¹ˆå¯¹äºŽè¿™æ ·çš„æŽ’åˆ—D(n)æœ‰å¤šå°‘ç§å‘¢ï¼Ÿ æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥è¿›è¡Œåˆ†æžï¼šé¦–å…ˆï¼Œå¯¹äºŽD(n)ï¼Œæœ‰1~nè¿™æ ·nä¸ªå…ƒç´ é”™æŽ’ï¼Œæ‰€ä»¥å¯¹äºŽç¬¬ä¸€ä¸ªå…ƒç´ â‘ ï¼Œå®ƒçŽ°åœ¨å¯èƒ½çš„ä½ç½®æœ‰(n-1)ä¸ªï¼Œå€˜è‹¥å®ƒåœ¨ç¬¬kä¸ªå…ƒç´ çš„ä½ç½®ä¸Šï¼Œå¯¹äºŽç¬¬kä¸ªå…ƒç´ è€Œè¨€ï¼Œå®ƒæ‰€åœ¨çš„ä½ç½®å°±æœ‰ä¸¤ç§å¯èƒ½â€”ç¬¬ä¸€ç§ï¼Œå®ƒå¤„åœ¨éžç¬¬ä¸€ä¸ªå…ƒç´ â‘ ä½ç½®ä¸Šï¼Œæ‰€ä»¥å¯¹äºŽæŽ¥ä¸‹æ¥çš„æŽ’åˆ—å°±ç›¸å½“äºŽæ˜¯n-1ä¸ªå…ƒç´ çš„é”™æŽ’ï¼Œå³D(n-1);ç¬¬äºŒç§ï¼Œå®ƒå¤„åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ â‘ çš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥åœ¨æŽ’åˆ—D(n)ä¸­æœ‰ä¸¤ä¸ªå…ƒç´ æ‰¾åˆ°äº†ä½ç½®ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥çš„é˜Ÿåˆ—å°±ç›¸å½“äºŽæ˜¯n-2ä¸ªå…ƒç´ çš„é”™æŽ’ã€‚å› æ­¤ï¼Œå¯¹äºŽD(n)éƒ½æœ‰ D_n=(n-1)*(D_{n-1}+D_{n-2}) (n>2)å¾—åˆ°è¿™ä¸ªé€’æŽ¨å¼ä¹‹åŽï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è¿›è¡ŒæŽ¨å¯¼ï¼š ä¸ºäº†è¿ç®—çš„æ–¹ä¾¿ï¼Œæˆ‘ä»¬è®¾ $D_n=n!*N_n$, åˆ™æœ‰: $n!N_n=(n-1)(n-2)!N_{n-2}+(n-1)(n-1)!*N_{n-1}$ ä¸¤è¾¹åŒæ—¶é™¤ä»¥(n-1)! ,å¯å¾—ï¼š n*N_n=N_{n-2}+(n-1)*N_{n-1}ç§»é¡¹ï¼š N_n-N_{n-1}=(N_{n-2}-N_{n-1})/n = -(1/n)(N_{n-1}-N_{n-2})é”™é¡¹ç›¸æ¶ˆå¾—ï¼š N_n-N_1=1/2!-1/3!+1/4!- Â·Â·Â· Â·Â·Â· +(-1)^{n-1}/(n-1)!+(-1)^n/n!ç”±äºŽN(1)=0ï¼ŒN(2)=1, æ‰€ä»¥ $N_n=1/2!-1/3!+1/4!- Â·Â·Â· Â·Â·Â· +(-1)^{n-1}/(n-1)!+(-1)^n/n!$ äºŽæ˜¯å¯ä»¥å¾—åˆ°é”™æŽ’å…¬å¼ä¸º: D_n=n!*(1/2!-1/3!+1/4!- 1/5!+ Â·Â·Â· Â·Â·Â· +(-1)^{n-1}/(n-1)!+(-1)^n/n!)è¿™æ ·ï¼Œæˆ‘ä»¬å°±é€šè¿‡ç®€å•çš„æŽ¨å¯¼å¾—åˆ°äº†ä¸¤ä¸ªå…³äºŽé”™æŽ’é—®é¢˜çš„å…¬å¼ï¼ ä¾‹é¢˜åˆ†æžçŽ°åœ¨ï¼Œæˆ‘ä»¬æ¥å…·ä½“é—®é¢˜å…·ä½“åˆ†æžï¼Œäº†è§£é”™æŽ’å…¬å¼å¦‚ä½•è½¬åŒ–ä¸ºä»£ç æ¥è§£å†³è€ƒè¯•ä¸­å®žé™…é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¿™é‡Œä»¥HDU Online Judgeä¸Šçš„ä¸€é“é¢˜è€ƒæ–°éƒŽä¸ºä¾‹ï¼Œé¢˜ç›®æ˜¯è¿™æ ·çš„ï¼š é˜…è¯»é¢˜ç›®åŽæˆ‘ä»¬ä¸éš¾å‘çŽ°ï¼Œè¿™é“é¢˜çš„æœ¬è´¨å°±æ˜¯æ±‚è§£æŽ’åˆ—ç»„åˆC(n,m)ä¸Žé”™æŽ’mä¸ªå…ƒç´ D(m)çš„ä¹˜ç§¯ï¼Œå› æ­¤è¿™é“é¢˜çš„ä»£ç ä¹Ÿååˆ†ç®€å•ï¼Œä»¥ä¸‹æä¾›ä¸¤ç§ACç¨‹åºï¼šæ–¹æ³•1-é€’æŽ¨å…¬å¼: D_n=(n-1)*(D_{n-1}+D_{n-2}) (D_1=0ï¼ŒD_2=1)12345678910111213141516171819202122232425262728293031323334353637#include&lt;iostream&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std;long long _cuopai[50];long long jiecheng[22]=&#123;1,1,2,6,24,120,720,5040,40320, 362880,3628800,39916800,479001600, 6227020800,87178291200,1307674368000, 20922789888000,355687428096000,6402373705728000, 121645100408832000,2432902008176640000&#125;;long long cuopai(int x)&#123; if(_cuopai[x]) return _cuopai[x]; if(x==1) return 0; if(x==2) return 1; return _cuopai[x]=(x-1)*(cuopai(x-1)+cuopai(x-2));&#125; long long c(int y,int z)&#123; return jiecheng[y]/(jiecheng[z]*jiecheng[y-z]);&#125; int main()&#123; memset(_cuopai,0,sizeof(_cuopai)); int a; cin&gt;&gt;a; for(int i=1;i&lt;=a;++i) &#123; int m,n; cin&gt;&gt;m&gt;&gt;n; cout&lt;&lt;c(m,n)*cuopai(n)&lt;&lt;endl; &#125; return 0;&#125; æ–¹æ³•2-é€šé¡¹å…¬å¼: D_n=n!*(1/2!-1/3!+1/4!- 1/5!+ Â·Â·Â· Â·Â·Â· +(-1)^{n-1}/(n-1)!+(-1)^n/n!)è¿™é‡Œå¯ä»¥æ ¹æ®é¢˜ç›®åšä¸€ä¸‹å˜å½¢: F(n,m)=C(n,m)*D(m)=n!*(1/2!-1/3!+1/4!- 1/5!+ Â·Â·Â· Â·Â·Â· +(-1)^{m-1}/(m-1)!+(-1)^m/m!)/(n-m)!123456789101112131415161718192021222324252627282930313233343536#include&lt;iostream&gt;#include&lt;cstdio&gt;using namespace std;int m,n;long long jiecheng[22]=&#123;1,1,2,6,24,120,720,5040,40320, 362880,3628800,39916800,479001600, 6227020800,87178291200,1307674368000, 20922789888000,355687428096000,6402373705728000, 121645100408832000,2432902008176640000&#125;; long long cuopai_()&#123; long long sum=0,a=jiecheng[n],b=jiecheng[n-m]; for(int i=2;i&lt;=m;++i) &#123; a/=i; if(i%2==0) sum+=a; else sum-=a; //cout&lt;&lt;"sum["&lt;&lt;i&lt;&lt;"]"&lt;&lt;sum&lt;&lt;endl; &#125; return sum/b;&#125; int main()&#123; int x; cin&gt;&gt;x; for(int i=1;i&lt;=x;++i) &#123; cin&gt;&gt;n&gt;&gt;m; cout&lt;&lt;cuopai_()&lt;&lt;endl; &#125; return 0;&#125;]]></content>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WelcomePage]]></title>
    <url>%2F2019%2F04%2F08%2FWelcomePage%2F</url>
    <content type="text"><![CDATA[Welcome to my new blog Hope you can leave messages here ! Details manager:yangyuhao set_time:2019-04-07 update_time:2019-04-08 Contract QQ: 895258058 E-mail: yangyh408@qq.com GitHub: yangyh408]]></content>
      <tags>
        <tag>Others</tag>
      </tags>
  </entry>
</search>
